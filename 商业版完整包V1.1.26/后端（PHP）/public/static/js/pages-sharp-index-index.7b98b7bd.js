(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sharp-index-index"],{"0a59":function(t,a,e){"use strict";var i=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("99af"),e("4160"),e("159b"),e("b64b"),e("1276"),e("ac1f");var s=i(e("ade3")),n=i(e("ca00")),o=i(e("c61e")),c=i(e("22ab")),r=getApp().globalData,d={components:{},props:{},data:function(){return{curTabIndex:0,noMore:!1,isLoading:!0,page:1,StateEnum:c.default,countDownList:[],tabbar:[],goodsList:{data:[]}}},onLoad:function(){},onShow:function(){var t=this;t.getApiData()},methods:{getApiData:function(){var t=this;r._get("sharp.index/index",{},(function(a){t.setData(a.data),t._initCountDownData()}))},_initCountDownData:function(){var t=this,a=t.tabbar[t.curTabIndex];t.setData((0,s.default)({},"countDownList.0",{date:a.count_down_time})),o.default.onSetTimeList(t,"countDownList")},onToggleTab:function(t){var a=this;r.saveFormId(t.detail.formId),a.setData({curTabIndex:t.detail.target.dataset.index,goodsList:[],page:1,isLoading:!0,noMore:!1}),a.getGoodsList(),a._initCountDownData()},onTargetActive:function(t){var a=this,e=a.tabbar[a.curTabIndex];r.saveFormId(t.detail.formId);var i=n.default.urlEncode({active_time_id:e.active_time_id,sharp_goods_id:t.detail.target.dataset.id});console.log(i),uni.navigateTo({url:"../goods/index?"+i})},onReachBottom:function(){var t=this,a=t.goodsList;if(t.page>=a.last_page)return t.setData({noMore:!0}),!1;t.setData({page:++t.page}),t.getGoodsList(!0)},getGoodsList:function(t){var a=this,e=a.tabbar[a.curTabIndex];r._get("sharp.goods/lists",{page:a.page||1,active_time_id:e.active_time_id},(function(e){var i=e.data.list,s=a.goodsList;!0===t?a.setData({"goodsList.data":s.data.concat(i.data),isLoading:!1}):a.setData({goodsList:i,isLoading:!1})}))},onShareAppMessage:function(){var t=r.getShareUrlParams();return{title:"整点秒杀",path:"/pages/sharp/index/index?"+t}},setData:function(t){var a,e,i=this,s=[];Object.keys(t).forEach((function(n){s=n.split("."),a=t[n],e=i.$data,s.forEach((function(t,n){console.log(t),n+1===s.length?i.$set(e,t,a):e[t]||i.$set(e,t,{}),e=e[t]}))}))}}};a.default=d},1298:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,'uni-page-body[data-v-6944c3ec], .container[data-v-6944c3ec]{background:#efeff4}\r\n\r\n/*隐藏滚动条*/[data-v-6944c3ec]::-webkit-scrollbar{width:0;height:0;color:transparent}.sharp-tabs[data-v-6944c3ec]{background:#fff}.sharp-tabs .sharp-tabs--container[data-v-6944c3ec]{background:#30353c}.sharp-tabs .sharp-tabs--empty[data-v-6944c3ec]{padding-bottom:%?30?%}.sharp-tabs .tabs-item[data-v-6944c3ec]{position:relative;min-width:%?170?%;height:%?110?%;background:#30353c;color:#fff;padding:%?15?% %?45?%;text-align:center;box-sizing:border-box;white-space:nowrap}.sharp-tabs .tabs-item .item-time[data-v-6944c3ec]{font-size:%?32?%}.sharp-tabs .tabs-item .item-status[data-v-6944c3ec]{font-size:%?24?%}.sharp-tabs .tabs-item .item-title[data-v-6944c3ec]{font-size:%?30?%}.sharp-tabs .tabs-item.active[data-v-6944c3ec]{background:#fd4a5f}.sharp-tabs .tabs-item.active[data-v-6944c3ec]::after{content:"";display:block;position:absolute;z-index:999;bottom:%?-15?%;left:50%;margin-left:%?-12?%;width:0;height:0;border:%?20?% solid #fd4a5f;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-bottom-width:0}\r\n\r\n/* 活动状态 */.sharp-active[data-v-6944c3ec]{background:#fff;padding-bottom:%?30?%}.sharp-active .active-status[data-v-6944c3ec]{font-size:%?32?%;color:#fd4a5f;margin-bottom:%?15?%}.sharp-active .active-status .active-status--icon[data-v-6944c3ec]{margin-right:%?10?%}.sharp-active .active-status .active-status--time[data-v-6944c3ec]{margin-right:%?10?%}\r\n\r\n/* 倒计时 */.active--count-down[data-v-6944c3ec]{font-size:%?26?%;height:%?40?%}.active--count-down .clock-text[data-v-6944c3ec]{margin-right:%?10?%}.active--count-down .clock-time[data-v-6944c3ec]{background:#252525;color:#fff;padding:0 %?8?%;line-height:%?40?%;border-radius:%?8?%}.active--count-down .clock-symbol[data-v-6944c3ec]{padding:0 %?8?%}\r\n\r\n/* 商品列表 */.bargain-hall[data-v-6944c3ec]{padding-top:%?20?%\r\n  /* background: #fff; */}.goods-item[data-v-6944c3ec]{background:#fff;padding:%?30?% %?16?%;border-bottom:%?1?% solid #e7e7e7}.goods-item .goods-image uni-image[data-v-6944c3ec]{display:block;width:%?220?%;height:%?220?%}.goods-item .goods-info[data-v-6944c3ec]{width:%?498?%;padding-top:%?8?%;margin-left:%?15?%;position:relative}.goods-item .goods-info .goods-name[data-v-6944c3ec]{font-size:%?28?%;min-height:%?72?%;margin-bottom:%?20?%}\r\n\r\n/* 秒杀进度条 */.yoo-progress[data-v-6944c3ec]{position:relative;width:70%;height:14px;border-radius:6px;background:#f8b6b6}.yoo-progress--portion[data-v-6944c3ec]{width:0;height:100%;border-radius:6px;background:-webkit-linear-gradient(left,#f76653,#fd4a5f);background:linear-gradient(90deg,#f76653,#fd4a5f)}.yoo-progress--text[data-v-6944c3ec]{color:#fff;font-size:%?24?%;line-height:1.6;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.sharp-sales[data-v-6944c3ec]{margin-left:%?30?%;font-size:%?24?%;color:#fd4a5f;white-space:nowrap}\r\n\r\n/* 秒杀价格 */.sharp-price[data-v-6944c3ec]{margin-top:%?40?%;line-height:1}.seckill-price[data-v-6944c3ec]{font-size:%?32?%;color:#fd4a5f;margin-bottom:%?-2?%}.original-price[data-v-6944c3ec]{margin-left:%?5?%;font-size:%?24?%;color:#818181;text-decoration:line-through}\r\n\r\n/* 立即参加按钮 */.opt-touch[data-v-6944c3ec]{position:absolute;bottom:0;right:%?10?%}.touch-btn[data-v-6944c3ec]{color:#fff;font-size:%?26?%;background:#fd4a5f;border-radius:%?30?%;padding:%?10?% %?30?%}body.?%PAGE?%[data-v-6944c3ec]{background:#efeff4}',""]),t.exports=a},1604:function(t,a,e){var i=e("1298");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("4f06").default;s("d64479c4",i,!0,{sourceMap:!1,shadowMode:!1})},"22ab":function(t,a){t.exports={ACTIVE_STATE_BEGIN:{name:"已开始",value:10},ACTIVE_STATE_SOON:{name:"即将开始",value:20},ACTIVE_STATE_NOTICE:{name:"预告",value:30}}},"69bb":function(t,a,e){"use strict";e.r(a);var i=e("e046"),s=e("a094");for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return s[t]}))}(n);e("f3f1");var o,c=e("f0c5"),r=Object(c["a"])(s["default"],i["b"],i["c"],!1,null,"6944c3ec",null,!1,i["a"],o);a["default"]=r.exports},a094:function(t,a,e){"use strict";e.r(a);var i=e("0a59"),s=e.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(n);a["default"]=s.a},c61e:function(t,a,e){"use strict";var i=e("4ea4").default,s=i(e("ade3"));e("4160"),e("159b"),e("e25e");var n=i(e("ca00"));t.exports={onSetTimeList:function(t,a){var e=this,i=this,o=(new Date).getTime(),c=[];t[a].forEach((function(t){var a=new Date(n.default.format_date(t.date)).getTime(),e={hou:"00",min:"00",sec:"00"};if(a-o>0){var s=(a-o)/1e3,r=parseInt(s/3600,10),d=parseInt(s%3600/60,10),u=parseInt(s%3600%60,10);e={hou:i.timeFormat(r),min:i.timeFormat(d),sec:i.timeFormat(u)}}c.push({date:t.date,dynamic:e})})),t.setData((0,s.default)({},a,c)),setTimeout((function(){e.onSetTimeList(t,a)}),1e3)},timeFormat:function(t){return t<10?"0"+t:t}}},e046:function(t,a,e){"use strict";var i;e.d(a,"b",(function(){return s})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){return i}));var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.tabbar.length?e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"sharp-tabs"},[e("v-uni-scroll-view",{attrs:{"scroll-x":"true"}},[e("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(a){arguments[0]=a=t.$handleEvent(a),t.onToggleTab.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"sharp-tabs--container dis-flex"},t._l(t.tabbar,(function(a,i){return e("v-uni-button",{key:i,staticClass:"btn-normal",attrs:{formType:"submit","data-index":i}},[e("v-uni-view",{class:"tabs-item "+(t.curTabIndex==i?"active":"")+" dis-flex flex-dir-column flex-x-center flex-y-center"},[a.status==t.StateEnum.ACTIVE_STATE_NOTICE.value?[e("v-uni-view",{staticClass:"item-title"},[t._v(t._s(a.status_text))])]:[e("v-uni-view",{staticClass:"item-time"},[t._v(t._s(a.active_time))]),e("v-uni-view",{staticClass:"item-status"},[t._v(t._s(a.status_text))])]],2)],1)})),1)],1),e("v-uni-view",{staticClass:"sharp-tabs--empty"})],1)],1),e("v-uni-view",{staticClass:"sharp-active dis-flex flex-dir-column flex-y-center"},[e("v-uni-view",{staticClass:"active-status"},[e("v-uni-text",{staticClass:"active-status--icon iconfont icon-artboard"}),t.tabbar[t.curTabIndex].status!=t.StateEnum.ACTIVE_STATE_NOTICE.value?e("v-uni-text",{staticClass:"active-status--time"},[t._v(t._s(t.tabbar[t.curTabIndex].active_time))]):t._e(),e("v-uni-text",{staticClass:"active-status--text"},[t._v(t._s(t.tabbar[t.curTabIndex].status_text2))])],1),e("v-uni-view",{staticClass:"active--count-down dis-flex flex-y-center"},[e("v-uni-view",{staticClass:"clock-text"},[e("v-uni-text",[t._v(t._s(t.tabbar[t.curTabIndex].status==t.StateEnum.ACTIVE_STATE_BEGIN.value?"距结束":"距开始"))])],1),e("v-uni-view",{staticClass:"clock dis-flex"},[e("v-uni-view",{staticClass:"clock-time"},[e("v-uni-text",[t._v(t._s(t.countDownList[0].dynamic.hou))])],1),e("v-uni-view",{staticClass:"clock-symbol"},[e("v-uni-text",[t._v(":")])],1),e("v-uni-view",{staticClass:"clock-time"},[e("v-uni-text",[t._v(t._s(t.countDownList[0].dynamic.min))])],1),e("v-uni-view",{staticClass:"clock-symbol"},[e("v-uni-text",[t._v(":")])],1),e("v-uni-view",{staticClass:"clock-time"},[e("v-uni-text",[t._v(t._s(t.countDownList[0].dynamic.sec))])],1)],1)],1)],1),e("v-uni-view",{staticClass:"bargain-hall"},[t._l(t.goodsList.data,(function(a,i){return e("v-uni-view",{key:i,staticClass:"goods-item"},[e("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(a){arguments[0]=a=t.$handleEvent(a),t.onTargetActive.apply(void 0,arguments)}}},[e("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit","data-id":a.sharp_goods_id}},[e("v-uni-view",{staticClass:"goods-item--container dis-flex"},[e("v-uni-view",{staticClass:"goods-image"},[e("v-uni-image",{attrs:{src:a.goods_image}})],1),e("v-uni-view",{staticClass:"goods-info"},[e("v-uni-view",{staticClass:"goods-name"},[e("v-uni-text",{staticClass:"twolist-hidden"},[t._v(t._s(a.goods_name))])],1),e("v-uni-view",{staticClass:"sharp-progress dis-flex flex-y-center"},[e("v-uni-view",{staticClass:"yoo-progress"},[e("v-uni-view",{staticClass:"yoo-progress--portion",style:"width: "+a.progress+"%;"}),e("v-uni-text",{staticClass:"yoo-progress--text"},[t._v(t._s(a.progress)+"%")])],1),e("v-uni-view",{staticClass:"sharp-sales"},[t._v("已抢"+t._s(a.sales_actual)+"件")])],1),e("v-uni-view",{staticClass:"sharp-price dis-flex flex-y-end"},[e("v-uni-view",{staticClass:"seckill-price"},[e("v-uni-text",{staticClass:"f-24"},[t._v("￥")]),e("v-uni-text",{staticClass:"money"},[t._v(t._s(a.goods_sku.seckill_price))])],1),e("v-uni-view",{staticClass:"original-price"},[e("v-uni-text",{staticClass:"f-24"},[t._v("￥")]),e("v-uni-text",{staticClass:"money"},[t._v(t._s(a.goods_sku.original_price))])],1)],1),e("v-uni-view",{staticClass:"opt-touch"},[e("v-uni-view",{staticClass:"touch-btn"},[e("v-uni-text",[t._v(t._s(t.tabbar[t.curTabIndex].status==t.StateEnum.ACTIVE_STATE_BEGIN.value?"马上抢":"查看商品"))])],1)],1)],1)],1)],1)],1)],1)})),t.noMore?e("v-uni-view",{staticClass:"no-more f-28"},[t._v("亲, 没有更多了")]):t._e(),t.isLoading||t.goodsList.data.length?t._e():e("v-uni-view",[e("v-uni-view",{staticClass:"yoshop-notcont"},[e("v-uni-text",{staticClass:"iconfont icon-wushuju"}),e("v-uni-text",{staticClass:"cont"},[t._v("亲，暂无秒杀商品哦")])],1)],1)],2)],1):t._e()},n=[]},f3f1:function(t,a,e){"use strict";var i=e("1604"),s=e.n(i);s.a}}]);