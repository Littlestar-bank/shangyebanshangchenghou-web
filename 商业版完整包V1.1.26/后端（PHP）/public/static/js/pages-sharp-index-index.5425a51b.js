(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sharp-index-index"],{"0a59":function(t,a,i){"use strict";var e=i("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,i("28a5"),i("456d"),i("ac6a");var s=e(i("bd86")),n=e(i("ca00")),o=e(i("c61e")),r=e(i("22ab")),c=getApp().globalData,d={components:{},props:{},data:function(){return{curTabIndex:0,noMore:!1,isLoading:!0,page:1,StateEnum:r.default,countDownList:[],tabbar:[],goodsList:{data:[]}}},onLoad:function(){},onShow:function(){var t=this;t.getApiData()},methods:{getApiData:function(){var t=this;c._get("sharp.index/index",{},(function(a){t.setData(a.data),t._initCountDownData()}))},_initCountDownData:function(){var t=this,a=t.tabbar[t.curTabIndex];t.setData((0,s.default)({},"countDownList.0",{date:a.count_down_time})),o.default.onSetTimeList(t,"countDownList")},onToggleTab:function(t){var a=this;c.saveFormId(t.detail.formId),a.setData({curTabIndex:t.detail.target.dataset.index,goodsList:[],page:1,isLoading:!0,noMore:!1}),a.getGoodsList(),a._initCountDownData()},onTargetActive:function(t){var a=this,i=a.tabbar[a.curTabIndex];c.saveFormId(t.detail.formId);var e=n.default.urlEncode({active_time_id:i.active_time_id,sharp_goods_id:t.detail.target.dataset.id});console.log(e),uni.navigateTo({url:"../goods/index?"+e})},onReachBottom:function(){var t=this,a=t.goodsList;if(t.page>=a.last_page)return t.setData({noMore:!0}),!1;t.setData({page:++t.page}),t.getGoodsList(!0)},getGoodsList:function(t){var a=this,i=a.tabbar[a.curTabIndex];c._get("sharp.goods/lists",{page:a.page||1,active_time_id:i.active_time_id},(function(i){var e=i.data.list,s=a.goodsList;!0===t?a.setData({"goodsList.data":s.data.concat(e.data),isLoading:!1}):a.setData({goodsList:e,isLoading:!1})}))},onShareAppMessage:function(){var t=c.getShareUrlParams();return{title:"整点秒杀",path:"/pages/sharp/index/index?"+t}},setData:function(t){var a,i,e=this,s=[];Object.keys(t).forEach((function(n){s=n.split("."),a=t[n],i=e.$data,s.forEach((function(t,n){console.log(t),n+1===s.length?e.$set(i,t,a):i[t]||e.$set(i,t,{}),i=i[t]}))}))}}};a.default=d},"22ab":function(t,a,i){"use strict";t.exports={ACTIVE_STATE_BEGIN:{name:"已开始",value:10},ACTIVE_STATE_SOON:{name:"即将开始",value:20},ACTIVE_STATE_NOTICE:{name:"预告",value:30}}},"3e8c":function(t,a,i){var e=i("f229");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=i("4f06").default;s("47a9388e",e,!0,{sourceMap:!1,shadowMode:!1})},"69bb":function(t,a,i){"use strict";i.r(a);var e=i("d592"),s=i("a094");for(var n in s)"default"!==n&&function(t){i.d(a,t,(function(){return s[t]}))}(n);i("bbce");var o,r=i("f0c5"),c=Object(r["a"])(s["default"],e["b"],e["c"],!1,null,"210899c5",null,!1,e["a"],o);a["default"]=c.exports},a094:function(t,a,i){"use strict";i.r(a);var e=i("0a59"),s=i.n(e);for(var n in e)"default"!==n&&function(t){i.d(a,t,(function(){return e[t]}))}(n);a["default"]=s.a},bbce:function(t,a,i){"use strict";var e=i("3e8c"),s=i.n(e);s.a},c61e:function(t,a,i){"use strict";var e=i("4ea4"),s=e(i("bd86"));i("ac6a");var n=e(i("ca00"));t.exports={onSetTimeList:function(t,a){var i=this,e=this,o=(new Date).getTime(),r=[];t[a].forEach((function(t){var a=new Date(n.default.format_date(t.date)).getTime(),i={hou:"00",min:"00",sec:"00"};if(a-o>0){var s=(a-o)/1e3,c=parseInt(s/3600,10),d=parseInt(s%3600/60,10),u=parseInt(s%3600%60,10);i={hou:e.timeFormat(c),min:e.timeFormat(d),sec:e.timeFormat(u)}}r.push({date:t.date,dynamic:i})})),t.setData((0,s.default)({},a,r)),setTimeout((function(){i.onSetTimeList(t,a)}),1e3)},timeFormat:function(t){return t<10?"0"+t:t}}},d592:function(t,a,i){"use strict";var e,s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return t.tabbar.length?i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"sharp-tabs"},[i("v-uni-scroll-view",{attrs:{"scroll-x":"true"}},[i("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(a){arguments[0]=a=t.$handleEvent(a),t.onToggleTab.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"sharp-tabs--container dis-flex"},t._l(t.tabbar,(function(a,e){return i("v-uni-button",{key:e,staticClass:"btn-normal",attrs:{formType:"submit","data-index":e}},[i("v-uni-view",{class:"tabs-item "+(t.curTabIndex==e?"active":"")+" dis-flex flex-dir-column flex-x-center flex-y-center"},[a.status==t.StateEnum.ACTIVE_STATE_NOTICE.value?[i("v-uni-view",{staticClass:"item-title"},[t._v(t._s(a.status_text))])]:[i("v-uni-view",{staticClass:"item-time"},[t._v(t._s(a.active_time))]),i("v-uni-view",{staticClass:"item-status"},[t._v(t._s(a.status_text))])]],2)],1)})),1)],1),i("v-uni-view",{staticClass:"sharp-tabs--empty"})],1)],1),i("v-uni-view",{staticClass:"sharp-active dis-flex flex-dir-column flex-y-center"},[i("v-uni-view",{staticClass:"active-status"},[i("v-uni-text",{staticClass:"active-status--icon iconfont icon-artboard"}),t.tabbar[t.curTabIndex].status!=t.StateEnum.ACTIVE_STATE_NOTICE.value?i("v-uni-text",{staticClass:"active-status--time"},[t._v(t._s(t.tabbar[t.curTabIndex].active_time))]):t._e(),i("v-uni-text",{staticClass:"active-status--text"},[t._v(t._s(t.tabbar[t.curTabIndex].status_text2))])],1),i("v-uni-view",{staticClass:"active--count-down dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"clock-text"},[i("v-uni-text",[t._v(t._s(t.tabbar[t.curTabIndex].status==t.StateEnum.ACTIVE_STATE_BEGIN.value?"距结束":"距开始"))])],1),i("v-uni-view",{staticClass:"clock dis-flex"},[i("v-uni-view",{staticClass:"clock-time"},[i("v-uni-text",[t._v(t._s(t.countDownList[0].dynamic.hou))])],1),i("v-uni-view",{staticClass:"clock-symbol"},[i("v-uni-text",[t._v(":")])],1),i("v-uni-view",{staticClass:"clock-time"},[i("v-uni-text",[t._v(t._s(t.countDownList[0].dynamic.min))])],1),i("v-uni-view",{staticClass:"clock-symbol"},[i("v-uni-text",[t._v(":")])],1),i("v-uni-view",{staticClass:"clock-time"},[i("v-uni-text",[t._v(t._s(t.countDownList[0].dynamic.sec))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"bargain-hall"},[t._l(t.goodsList.data,(function(a,e){return i("v-uni-view",{key:e,staticClass:"goods-item"},[i("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(a){arguments[0]=a=t.$handleEvent(a),t.onTargetActive.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit","data-id":a.sharp_goods_id}},[i("v-uni-view",{staticClass:"goods-item--container dis-flex"},[i("v-uni-view",{staticClass:"goods-image"},[i("v-uni-image",{attrs:{src:a.goods_image}})],1),i("v-uni-view",{staticClass:"goods-info"},[i("v-uni-view",{staticClass:"goods-name"},[i("v-uni-text",{staticClass:"twolist-hidden"},[t._v(t._s(a.goods_name))])],1),i("v-uni-view",{staticClass:"sharp-progress dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"yoo-progress"},[i("v-uni-view",{staticClass:"yoo-progress--portion",style:"width: "+a.progress+"%;"}),i("v-uni-text",{staticClass:"yoo-progress--text"},[t._v(t._s(a.progress)+"%")])],1),i("v-uni-view",{staticClass:"sharp-sales"},[t._v("已抢"+t._s(a.sales_actual)+"件")])],1),i("v-uni-view",{staticClass:"sharp-price dis-flex flex-y-end"},[i("v-uni-view",{staticClass:"seckill-price"},[i("v-uni-text",{staticClass:"f-24"},[t._v("￥")]),i("v-uni-text",{staticClass:"money"},[t._v(t._s(a.goods_sku.seckill_price))])],1),i("v-uni-view",{staticClass:"original-price"},[i("v-uni-text",{staticClass:"f-24"},[t._v("￥")]),i("v-uni-text",{staticClass:"money"},[t._v(t._s(a.goods_sku.original_price))])],1)],1),i("v-uni-view",{staticClass:"opt-touch"},[i("v-uni-view",{staticClass:"touch-btn"},[i("v-uni-text",[t._v(t._s(t.tabbar[t.curTabIndex].status==t.StateEnum.ACTIVE_STATE_BEGIN.value?"马上抢":"查看商品"))])],1)],1)],1)],1)],1)],1)],1)})),t.noMore?i("v-uni-view",{staticClass:"no-more f-28"},[t._v("亲, 没有更多了")]):t._e(),t.isLoading||t.goodsList.data.length?t._e():i("v-uni-view",[i("v-uni-view",{staticClass:"shop-notcont"},[i("v-uni-text",{staticClass:"iconfont icon-wushuju"}),i("v-uni-text",{staticClass:"cont"},[t._v("亲，暂无秒杀商品哦")])],1)],1)],2)],1):t._e()},n=[];i.d(a,"b",(function(){return s})),i.d(a,"c",(function(){return n})),i.d(a,"a",(function(){return e}))},f229:function(t,a,i){a=t.exports=i("2350")(!1),a.push([t.i,'uni-page-body[data-v-210899c5], .container[data-v-210899c5]{background:#efeff4}\r\n\r\n/*隐藏滚动条*/[data-v-210899c5]::-webkit-scrollbar{width:0;height:0;color:transparent}.sharp-tabs[data-v-210899c5]{background:#fff}.sharp-tabs .sharp-tabs--container[data-v-210899c5]{background:#30353c}.sharp-tabs .sharp-tabs--empty[data-v-210899c5]{padding-bottom:%?30?%}.sharp-tabs .tabs-item[data-v-210899c5]{position:relative;min-width:%?170?%;height:%?110?%;background:#30353c;color:#fff;padding:%?15?% %?45?%;text-align:center;box-sizing:border-box;white-space:nowrap}.sharp-tabs .tabs-item .item-time[data-v-210899c5]{font-size:%?32?%}.sharp-tabs .tabs-item .item-status[data-v-210899c5]{font-size:%?24?%}.sharp-tabs .tabs-item .item-title[data-v-210899c5]{font-size:%?30?%}.sharp-tabs .tabs-item.active[data-v-210899c5]{background:#fd4a5f}.sharp-tabs .tabs-item.active[data-v-210899c5]::after{content:"";display:block;position:absolute;z-index:999;bottom:%?-15?%;left:50%;margin-left:%?-12?%;width:0;height:0;border:%?20?% solid #fd4a5f;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-bottom-width:0}\r\n\r\n/* 活动状态 */.sharp-active[data-v-210899c5]{background:#fff;padding-bottom:%?30?%}.sharp-active .active-status[data-v-210899c5]{font-size:%?32?%;color:#fd4a5f;margin-bottom:%?15?%}.sharp-active .active-status .active-status--icon[data-v-210899c5]{margin-right:%?10?%}.sharp-active .active-status .active-status--time[data-v-210899c5]{margin-right:%?10?%}\r\n\r\n/* 倒计时 */.active--count-down[data-v-210899c5]{font-size:%?26?%;height:%?40?%}.active--count-down .clock-text[data-v-210899c5]{margin-right:%?10?%}.active--count-down .clock-time[data-v-210899c5]{background:#252525;color:#fff;padding:0 %?8?%;line-height:%?40?%;border-radius:%?8?%}.active--count-down .clock-symbol[data-v-210899c5]{padding:0 %?8?%}\r\n\r\n/* 商品列表 */.bargain-hall[data-v-210899c5]{padding-top:%?20?%\r\n  /* background: #fff; */}.goods-item[data-v-210899c5]{background:#fff;padding:%?30?% %?16?%;border-bottom:%?1?% solid #e7e7e7}.goods-item .goods-image uni-image[data-v-210899c5]{display:block;width:%?220?%;height:%?220?%}.goods-item .goods-info[data-v-210899c5]{width:%?498?%;padding-top:%?8?%;margin-left:%?15?%;position:relative}.goods-item .goods-info .goods-name[data-v-210899c5]{font-size:%?28?%;min-height:%?72?%;margin-bottom:%?20?%}\r\n\r\n/* 秒杀进度条 */.yoo-progress[data-v-210899c5]{position:relative;width:70%;height:14px;border-radius:6px;background:#f8b6b6}.yoo-progress--portion[data-v-210899c5]{width:0;height:100%;border-radius:6px;background:-webkit-linear-gradient(left,#f76653,#fd4a5f);background:linear-gradient(90deg,#f76653,#fd4a5f)}.yoo-progress--text[data-v-210899c5]{color:#fff;font-size:%?24?%;line-height:1.6;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.sharp-sales[data-v-210899c5]{margin-left:%?30?%;font-size:%?24?%;color:#fd4a5f;white-space:nowrap}\r\n\r\n/* 秒杀价格 */.sharp-price[data-v-210899c5]{margin-top:%?40?%;line-height:1}.seckill-price[data-v-210899c5]{font-size:%?32?%;color:#fd4a5f;margin-bottom:%?-2?%}.original-price[data-v-210899c5]{margin-left:%?5?%;font-size:%?24?%;color:#818181;text-decoration:line-through}\r\n\r\n/* 立即参加按钮 */.opt-touch[data-v-210899c5]{position:absolute;bottom:0;right:%?10?%}.touch-btn[data-v-210899c5]{color:#fff;font-size:%?26?%;background:#fd4a5f;border-radius:%?30?%;padding:%?10?% %?30?%}body.?%PAGE?%[data-v-210899c5]{background:#efeff4}',""])}}]);