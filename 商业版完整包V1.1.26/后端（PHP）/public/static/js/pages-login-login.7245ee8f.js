(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"11a3":function(t,n,a){var e=a("cbbc");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=a("4f06").default;o("11344427",e,!0,{sourceMap:!1,shadowMode:!1})},3285:function(t,n,a){"use strict";a.r(n);var e=a("6263"),o=a.n(e);for(var i in e)"default"!==i&&function(t){a.d(n,t,(function(){return e[t]}))}(i);n["default"]=o.a},6263:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,a("28a5"),a("456d"),a("ac6a");var e=getApp().globalData,o={components:{},props:{},data:function(){return{options:{}}},onLoad:function(t){this.setData({options:t})},methods:{onGotUserInfo:function(t){var n=this;if("getUserInfo:ok"!==t.detail.errMsg)return!1;uni.showLoading({title:"正在登录",mask:!0}),uni.login({success:function(a){e._post_form("user/login",{code:a.code,user_info:t.detail.rawData,encrypted_data:t.detail.encryptedData,iv:t.detail.iv,signature:t.detail.signature,referee_id:uni.getStorageSync("referee_id")},(function(t){uni.setStorageSync("token",t.data.token),uni.setStorageSync("user_id",t.data.user_id),n.navigateBack()}),!1,(function(){uni.hideLoading()}))}})},handleH5login:function(){var t="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx82904ff22b0a48a7&redirect_uri=";t+=encodeURIComponent("https://h5.sammu.top/api/user/login?wxapp_id=10001&client=pub"),t+="&response_type=code&scope=snsapi_userinfo&state=123#wechat_redirect",window.location.href=t},handleTouTiaologin:function(){tt.login({success:function(t){console.log(t)},fail:function(){console.log("login调用失败")}})},navigateBack:function(){uni.navigateBack()},handleGoBack:function(){uni.switchTab({url:"/pages/index/index"})},setData:function(t){var n,a,e=this,o=[];Object.keys(t).forEach((function(i){o=i.split("."),n=t[i],a=e.$data,o.forEach((function(t,i){console.log(t),i+1===o.length?e.$set(a,t,n):a[t]||e.$set(a,t,{}),a=a[t]}))}))}}};n.default=o},a86a:function(t,n,a){"use strict";a.r(n);var e=a("b2cd"),o=a("3285");for(var i in o)"default"!==i&&function(t){a.d(n,t,(function(){return o[t]}))}(i);a("cda6");var r,c=a("f0c5"),d=Object(c["a"])(o["default"],e["b"],e["c"],!1,null,"92f34bd0",null,!1,e["a"],r);n["default"]=d.exports},b2cd:function(t,n,a){"use strict";var e,o=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"wechatapp"},[a("v-uni-image",{staticClass:"header",attrs:{src:"/static/wechatapp.png"}})],1),a("v-uni-view",{staticClass:"auth-title"},[t._v("申请获取以下权限")]),a("v-uni-view",{staticClass:"auth-subtitle"},[t._v("获得你的公开信息（昵称、头像等）")]),a("v-uni-button",{staticClass:"login-btn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleH5login.apply(void 0,arguments)}}},[t._v("微信登录")])],1)},i=[];a.d(n,"b",(function(){return o})),a.d(n,"c",(function(){return i})),a.d(n,"a",(function(){return e}))},cbbc:function(t,n,a){n=t.exports=a("2350")(!1),n.push([t.i,"uni-page-body[data-v-92f34bd0]{background:#fff;font-size:%?32?%}.container[data-v-92f34bd0]{padding:0 %?60?%}.wechatapp[data-v-92f34bd0]{padding:%?80?% 0 %?48?%;border-bottom:%?1?% solid #e3e3e3;margin-bottom:%?72?%;text-align:center}.wechatapp .header[data-v-92f34bd0]{width:%?190?%;height:%?190?%;border:2px solid #fff;margin:%?0?% auto 0;border-radius:50%;overflow:hidden;box-shadow:1px 0 5px rgba(50,50,50,.3)}.auth-title[data-v-92f34bd0]{color:#585858;font-size:%?40?%;margin-bottom:%?40?%}.auth-subtitle[data-v-92f34bd0]{color:#888;margin-bottom:%?88?%}.login-btn[data-v-92f34bd0]{border:none;height:%?88?%;line-height:%?88?%;background:#04be01;color:#fff;font-size:11pt;border-radius:%?999?%}.login-btn[data-v-92f34bd0]::after{display:none}.login-btn.button-hover[data-v-92f34bd0]{box-shadow:inset 0 %?5?% %?30?% rgba(0,0,0,.15)}.cancel-btn[data-v-92f34bd0]{margin-top:%?20?%;background:#888}body.?%PAGE?%[data-v-92f34bd0]{background:#fff}",""])},cda6:function(t,n,a){"use strict";var e=a("11a3"),o=a.n(e);o.a}}]);