(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-index"],{"095e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("5319"),i("ac1f"),i("4160"),i("159b"),i("b64b"),i("1276");var n=getApp().globalData,a={components:{},props:{},data:function(){return{isLogin:!1,userInfo:{},orderCount:{},couponCount:{},menus:{},setting:{},dealer:null}},onLoad:function(){},onShow:function(){var e=this;e.setData({isLogin:n.checkIsLogin()}),e.getUserDetail()},methods:{handleLogin:function(){this.isLogin||n.doLogin()},getUserDetail:function(){var e=this;n._get("user.index/detail",{},(function(t){t.data.userInfo?e.setData(t.data):n.doLogin()}))},onTargetOrder:function(e){if(!this.onCheckLogin())return!1;n.saveFormId(e.detail.formId);var t={all:"/pages/order/index?type=all",payment:"/pages/order/index?type=payment",received:"/pages/order/index?type=received",refund:"/pages/order/refund/index"};uni.navigateTo({url:t[e.currentTarget.dataset.type]})},onTargetMenus:function(e){if(!this.onCheckLogin())return!1;n.saveFormId(e.detail.formId),uni.navigateTo({url:"/"+e.currentTarget.dataset.url})},onTargetWallet:function(e){if(!this.onCheckLogin())return!1;n.saveFormId(e.detail.formId),uni.navigateTo({url:"/pages/dealer/index/index"})},onTargetPoints:function(e){if(!this.onCheckLogin())return!1;n.saveFormId(e.detail.formId),uni.navigateTo({url:"/pages/dealer/index/index"})},onLogin:function(){n.doLogin()},onCheckLogin:function(){var e=this;return!!e.isLogin||(n.showError("很抱歉，您还没有登录"),!1)},oauth:function(){var e=this;uni.login({provider:"weixin",success:function(){uni.getUserInfo({provider:"weixin",success:function(t){var i=JSON.stringify(t.userInfo);n._post_form("user/binding",{userInfo:i},(function(t){n.showSuccess(t.msg,(function(){e.getUserDetail()}))}),!1,(function(){}))},fail:function(e){console.log(e)}})},fail:function(e){console.error("绑定微信失败："+JSON.stringify(e));var t="";e.errMsg&&(t=", "+e.errMsg.replace(/,http.*/gi,"")),uni.showModal({title:"错误",content:"绑定微信"+t,confirmText:"我知道了",showCancel:!1,success:function(e){e.confirm}})}})},setData:function(e){var t,i,n=this,a=[];Object.keys(e).forEach((function(r){a=r.split("."),t=e[r],i=n.$data,a.forEach((function(e,r){console.log(e),r+1===a.length?n.$set(i,e,t):i[e]||n.$set(i,e,{}),i=i[e]}))}))}}};t.default=a},"0d59":function(e,t,i){"use strict";i.r(t);var n=i("095e"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"124b":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"/* 用户信息 */.user[data-v-3134f972]{position:relative;background:#fff;margin-bottom:%?145?%}.user-header[data-v-3134f972]{display:-webkit-box;display:-webkit-flex;display:flex;padding-top:1px;width:100%;height:%?310?%;-webkit-align-content:center;align-content:center;background-color:#a20202;background-repeat:no-repeat;background-position:100%;background-size:auto 100%;color:#fff}.user-header .user-header-cont[data-v-3134f972]{display:-webkit-box;display:-webkit-flex;display:flex;margin:auto;margin-bottom:%?135?%;width:79%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.user-header .user-header-cont .user-header-avatar[data-v-3134f972]{display:block;margin-right:%?30?%;width:%?120?%;height:%?120?%;border-radius:50%;border:%?5?% solid #fff;overflow:hidden}.user-header .user-header-cont .user-header-avatar uni-image[data-v-3134f972]{width:%?120?%;height:%?120?%}.user-header .user-header-cont-name[data-v-3134f972]{font-size:%?32?%}\r\n\r\n/* 会员等级 */.user-header-grade[data-v-3134f972]{background:#fff199;margin-top:%?12?%;height:%?38?%;line-height:%?38?%;border-radius:%?10?%;padding:0 %?14?%}\r\n\r\n/* .user-header-grade .user-grade_icon {\r\n  margin-top: -5rpx;\r\n} */.user-header-grade .user-grade_icon uni-image[data-v-3134f972]{display:block;width:%?32?%;height:%?30?%}.user-header-grade .user-grade_name[data-v-3134f972]{margin-left:%?8?%;font-size:%?24?%}\r\n\r\n/* 订单导航栏 */.order-navbar[data-v-3134f972]{position:absolute;left:%?19?%;bottom:%?-125?%;margin:auto;padding:%?15?% 0;width:95%;box-shadow:0 %?1?% %?5?% 0 rgba(0,0,0,.05);font-size:%?30?%;border-top:%?1?% solid #eee;border-radius:%?5?%;background:#fff}.order-navbar-header[data-v-3134f972]{margin:auto;padding-bottom:%?10?%;width:91%;height:%?70?%;border-bottom:1px solid #eee;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order-navbar-footer[data-v-3134f972]{width:100%;padding:%?10?% 0}.order-navbar-footer .order-navbar-item .order-navbar__icon[data-v-3134f972]{text-align:center;margin:0 auto;display:block;padding:%?10?% 0;color:#000;font-size:%?36?%}.order-navbar-footer .order-navbar-item .order-navbar__name[data-v-3134f972]{display:block;font-size:%?24?%;color:#666;text-align:center;margin-right:%?10?%}.order-navbar-footer .order-navbar-item .order-badge[data-v-3134f972]{position:absolute;top:0;right:%?55?%;font-size:%?22?%;background:#ff495e;text-align:center;line-height:%?28?%;color:#fff;border-radius:100%;min-height:%?30?%;min-width:%?30?%;padding:%?1?%}\r\n\r\n/* 菜单列表 */.menus-list[data-v-3134f972]{margin-top:%?20?%}.menus-list .menus-item[data-v-3134f972]{position:relative;padding:%?28?% %?28?%;border-bottom:%?1?% solid #eee}.menus-list .menus-item .menus-item__name[data-v-3134f972]{color:#444;margin-left:%?20?%}\r\n\r\n/* 我的钱包 */.my-asset[data-v-3134f972]{background:#fff;\r\n  /* height: 70rpx; */padding:%?26?% 0}.my-asset .asset-right[data-v-3134f972]{width:%?320?%;border-left:%?1?% solid #eee}.asset-right_item[data-v-3134f972]{text-align:center;color:#666}.asset-right_item .item-icon uni-text[data-v-3134f972]{font-size:%?36?%}.asset-right_item .item-name[data-v-3134f972]{margin-top:%?10?%}.asset-right_item .item-name uni-text[data-v-3134f972]{font-size:%?25?%}.asset-left_item[data-v-3134f972]{text-align:center;color:#666;padding:0 %?20?% 0 %?60?%}.asset-left_item .item-value uni-text[data-v-3134f972]{font-size:%?32?%;color:red}.asset-left_item .item-name[data-v-3134f972]{margin-top:%?6?%}.asset-left_item .item-name uni-text[data-v-3134f972]{font-size:%?25?%}.foot[data-v-3134f972]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?30?%;margin-bottom:%?30?%}.foot .weixin-text[data-v-3134f972]{display:block;padding:%?10?% %?40?%;height:%?40?%;line-height:%?40?%;border-radius:%?5?%;background-color:#07c160;font-size:%?28?%;margin-top:%?10?%;color:#fff}",""]),e.exports=t},"1de2":function(e,t,i){"use strict";i.r(t);var n=i("6fa6"),a=i("0d59");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("ba1c");var s,o=i("f0c5"),u=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"3134f972",null,!1,n["a"],s);t["default"]=u.exports},"6fa6":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"user"},[i("v-uni-view",{staticClass:"user-header",staticStyle:{"background-image":"url('/static/user-bg.png')"}},[i("v-uni-view",{staticClass:"user-header-cont",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleLogin.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"user-header-avatar"},[i("v-uni-image",{attrs:{src:e.userInfo.avatarUrl}})],1),i("v-uni-view",{staticClass:"user-header-right"},[i("v-uni-text",{staticClass:"user-header-cont-name",attrs:{lang:"zh_CN",type:"userNickName"}},[e._v(e._s(e.userInfo.nickName))]),e.userInfo.grade_id>0?i("v-uni-view",{staticClass:"user-header-grade dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"user-grade_icon"},[i("v-uni-image",{attrs:{src:"/static/grade_icon.png"}})],1),i("v-uni-view",{staticClass:"user-grade_name"},[i("v-uni-text",[e._v(e._s(e.userInfo.grade.name))])],1)],1):e._e()],1)],1)],1),i("v-uni-view",{staticClass:"order-navbar"},[i("v-uni-form",{attrs:{"data-type":"all","report-submit":"true"},on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.onTargetOrder.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-view",{staticClass:"order-navbar-header dis-flex"},[i("v-uni-text",{staticClass:"f-30"},[e._v("我的订单")]),i("v-uni-view",{staticClass:"dis-flex flex-y-center"},[i("v-uni-text",{staticClass:"f-24 col-6"},[e._v("全部订单")]),i("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou user-orderJtou"})],1)],1)],1)],1),i("v-uni-view",{staticClass:"order-navbar-footer dis-flex m-top10"},[i("v-uni-view",{staticClass:"order-navbar-item flex-box"},[i("v-uni-form",{attrs:{"data-type":"all","report-submit":"true"},on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.onTargetOrder.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-text",{staticClass:"order-navbar__icon iconfont icon-form"}),i("v-uni-text",{staticClass:"order-navbar__name"},[e._v("全部订单")])],1)],1)],1),i("v-uni-view",{staticClass:"order-navbar-item flex-box"},[i("v-uni-form",{attrs:{"data-type":"payment","report-submit":"true"},on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.onTargetOrder.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-text",{staticClass:"order-navbar__icon iconfont icon-daifukuan"}),i("v-uni-text",{staticClass:"order-navbar__name"},[e._v("待付款")]),e.orderCount.payment>0?i("v-uni-text",{staticClass:"order-badge"},[e._v(e._s(e.orderCount.payment))]):e._e()],1)],1)],1),i("v-uni-view",{staticClass:"order-navbar-item flex-box"},[i("v-uni-form",{attrs:{"data-type":"refund","report-submit":"true"},on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.onTargetOrder.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-text",{staticClass:"order-navbar__icon iconfont icon-shouhou"}),i("v-uni-text",{staticClass:"order-navbar__name"},[e._v("分红/售后")]),e.orderCount.refund>0?i("v-uni-text",{staticClass:"order-badge"},[e._v(e._s(e.orderCount.refund))]):e._e()],1)],1)],1)],1)],1)],1),e.userInfo.user_id>0?i("v-uni-view",{staticClass:"my-asset dis-flex"},[i("v-uni-view",{staticClass:"asset-left flex-box dis-flex flex-x-center"},[i("v-uni-view",{staticClass:"asset-left_item"},[i("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.onTargetWallet.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-view",{staticClass:"item-value dis-flex flex-x-center"},[i("v-uni-text",[e._v(e._s(e.userInfo.balance||0))])],1),i("v-uni-view",{staticClass:"item-name dis-flex flex-x-center"},[i("v-uni-text",[e._v("份子钱")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"asset-left_item"},[i("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.onTargetPoints.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-view",{staticClass:"item-value dis-flex flex-x-center"},[i("v-uni-text",[e._v(e._s(e.dealer&&e.dealer.money||0))])],1),i("v-uni-view",{staticClass:"item-name dis-flex flex-x-center"},[i("v-uni-text",[e._v("提现金额")])],1)],1)],1)],1)],1),i("v-uni-view",{staticClass:"asset-right"},[i("v-uni-view",{staticClass:"asset-right_item"},[i("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.onTargetWallet.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-view",{staticClass:"item-name dis-flex flex-x-center"},[i("v-uni-text",[e._v("分红"+e._s(e.userInfo.refunds||0)+"次")])],1),i("v-uni-view",{staticClass:"item-name dis-flex flex-x-center"},[i("v-uni-text",[e._v("任务"+e._s(e.userInfo.sales||0)+"单")])],1)],1)],1)],1)],1)],1):e._e(),i("v-uni-view",{staticClass:"menus-list"},e._l(e.menus,(function(t,n){return i("v-uni-form",{key:n,attrs:{"data-url":t.url,"report-submit":"true"},on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.onTargetMenus.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-view",{staticClass:"menus-item dis-flex b-f"},[i("v-uni-view",{staticClass:"menus-item__left flex-box dis-flex flex-y-center"},[i("v-uni-text",{class:"iconfont icon-"+t.icon+" f-34"}),i("v-uni-text",{staticClass:"menus-item__name f-30"},[e._v(e._s(t.name))])],1),i("v-uni-view",{staticClass:"menus-item__right flex-box dis-flex flex-x-end flex-y-center"},[i("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou f-26 col-7"})],1)],1)],1)],1)})),1),e.userInfo.user_id>0&&!e.userInfo.isBind?i("v-uni-view",{staticClass:"foot",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.oauth.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"weixin-text"},[e._v("绑定微信")])],1):e._e()],1)},r=[]},9394:function(e,t,i){var n=i("124b");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("35482622",n,!0,{sourceMap:!1,shadowMode:!1})},ba1c:function(e,t,i){"use strict";var n=i("9394"),a=i.n(n);a.a}}]);