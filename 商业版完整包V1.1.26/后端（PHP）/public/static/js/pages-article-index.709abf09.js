(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-article-index"],{"0d4b":function(t,i,a){"use strict";a.r(i);var e=a("6334"),n=a("e84d");for(var s in n)"default"!==s&&function(t){a.d(i,t,(function(){return n[t]}))}(s);a("185e");var o,l=a("f0c5"),c=Object(l["a"])(n["default"],e["b"],e["c"],!1,null,"a04b9daa",null,!1,e["a"],o);i["default"]=c.exports},"185e":function(t,i,a){"use strict";var e=a("9a03"),n=a.n(e);n.a},6334:function(t,i,a){"use strict";var e,n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("v-uni-view",{staticClass:"header"},[a("v-uni-scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-x":!0,"scroll-left":!0}},[a("v-uni-view",{class:"cs "+(0==t.category_id?"active":""),attrs:{"data-id":"0"},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onSwitchTab.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("全部")])],1),t._l(t.categoryList,(function(i,e){return a("v-uni-view",{key:e,class:"cs "+(i.category_id==t.category_id?"active":""),attrs:{"data-id":i.category_id},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onSwitchTab.apply(void 0,arguments)}}},[a("v-uni-text",[t._v(t._s(i.name))])],1)}))],2)],1),a("v-uni-view",{staticClass:"article-list"},[a("v-uni-scroll-view",{style:"height: "+t.scrollHeight+"px;",attrs:{"scroll-y":!0},on:{scrolltolower:function(i){arguments[0]=i=t.$handleEvent(i),t.bindDownLoad.apply(void 0,arguments)}}},[t._l(t.articleList.data,(function(i,e){return a("v-uni-view",{key:e,class:"article-item show-type__"+i.show_type,attrs:{"data-id":i.article_id},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onTargetDetail.apply(void 0,arguments)}}},[10==i.show_type?[a("v-uni-view",{staticClass:"article-item__left flex-box"},[a("v-uni-view",{staticClass:"article-item__title twolist-hidden"},[a("v-uni-text",{staticClass:"dis-block f-30 col-3"},[t._v(t._s(i.article_title))])],1),a("v-uni-view",{staticClass:"article-item__footer m-top10"},[a("v-uni-text",{staticClass:"article-views f-24 col-8"},[t._v(t._s(i.show_views)+"次浏览")])],1)],1),a("v-uni-view",{staticClass:"article-item__image"},[a("v-uni-image",{attrs:{mode:"widthFix",src:i.image.file_path}})],1)]:t._e(),20==i.show_type?[a("v-uni-view",{staticClass:"article-item__title twolist-hidden"},[a("v-uni-text",{staticClass:"dis-block f-30 col-3"},[t._v(t._s(i.article_title))])],1),a("v-uni-view",{staticClass:"article-item__image m-top20"},[a("v-uni-image",{attrs:{mode:"widthFix",src:i.image.file_path}})],1),a("v-uni-view",{staticClass:"article-item__footer m-top10"},[a("v-uni-text",{staticClass:"article-views f-24 col-8"},[t._v(t._s(i.show_views)+"次浏览")])],1)]:t._e()],2)})),t.no_more?a("v-uni-view",{staticClass:"no-more f-30"},[t._v("亲, 没有更多了")]):t._e(),t.isLoading||t.articleList.data.length?t._e():a("v-uni-view",[a("v-uni-view",{staticClass:"shop-notcont"},[a("v-uni-text",{staticClass:"iconfont icon-wushuju"}),a("v-uni-text",{staticClass:"cont"},[t._v("亲，暂无内容哦")])],1)],1)],2)],1)],1)},s=[];a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return e}))},"9a03":function(t,i,a){var e=a("a27b");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("5c984d9e",e,!0,{sourceMap:!1,shadowMode:!1})},a27b:function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,"/* 顶部选项卡 */.header[data-v-a04b9daa]{display:-webkit-box;display:-webkit-flex;display:flex;position:fixed;top:0;width:100%;height:%?88?%;color:#333;font-size:%?28?%;background:#fff;border-bottom:%?1?% solid #e4e4e4;z-index:100;overflow:hidden;white-space:nowrap}.header .cs[data-v-a04b9daa]{display:inline-block;padding:0 %?15?%;text-align:center;min-width:20%;height:%?87?%;line-height:%?88?%;box-sizing:border-box}.header .cs uni-text[data-v-a04b9daa]{display:block;height:100%}.header .cs.active uni-text[data-v-a04b9daa]{color:#fd4a5f;border-bottom:%?2?% solid #fd4a5f}\r\n\r\n/* 文章列表 */.article-list[data-v-a04b9daa]{margin-top:%?108?%;line-height:1\r\n  /* padding: 0 20rpx; */}.article-list .article-item[data-v-a04b9daa]{margin-bottom:%?20?%;padding:%?30?%;background:#fff}.article-list .article-item[data-v-a04b9daa]:last-child{margin-bottom:0}.article-list .article-item .article-item__title[data-v-a04b9daa]{line-height:1.3}.article-list .article-item .article-item__image uni-image[data-v-a04b9daa]{display:block}\r\n\r\n/* 小图模式 */.show-type__10[data-v-a04b9daa]{display:-webkit-box;display:-webkit-flex;display:flex}.show-type__10 .article-item__left[data-v-a04b9daa]{padding-right:%?20?%}.show-type__10 .article-item__image uni-image[data-v-a04b9daa]{width:%?240?%}\r\n\r\n/* 大图模式 */.show-type__20 .article-item__image uni-image[data-v-a04b9daa]{width:100%}",""])},b0c0:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("28a5"),a("456d"),a("ac6a");var e=a("787c"),n=getApp().globalData,s={components:{},props:{},data:function(){return{categoryList:[],articleList:{data:[]},category_id:0,scrollHeight:null,no_more:!1,isLoading:!0,page:1}},onLoad:function(){this.setListHeight(),this.getIndexData(),(0,e.getJSSDK)(n,window.location.href),(0,e.wxShare)({title:"文章首页",desc:"文章首页",link:n.domain+"#/pages/article/index?"+n.getShareUrlParams(),imgUrl:"",callback:function(){}})},onShareAppMessage:function(){return{title:"文章首页",path:"/pages/article/index?"+n.getShareUrlParams()}},methods:{getIndexData:function(){var t=this;n._get("article/index",{},(function(i){t.setData({categoryList:i.data.categoryList})})),this.getArticleList()},onSwitchTab:function(t){this.setData({category_id:t.currentTarget.dataset.id,articleList:{data:[]},page:1,no_more:!1,isLoading:!0}),this.getArticleList()},getArticleList:function(t,i){var a=this;n._get("article/lists",{page:i||1,category_id:this.category_id},(function(i){var e=i.data.list,n=a.articleList;!0===t?a.setData({"articleList.data":n.data.concat(e.data),isLoading:!1}):a.setData({articleList:e,isLoading:!1})}))},onTargetDetail:function(t){uni.navigateTo({url:"./detail/index?article_id="+t.currentTarget.dataset.id})},bindDownLoad:function(){if(this.page>=this.articleList.last_page)return this.setData({no_more:!0}),!1;this.getArticleList(!0,++this.page)},setListHeight:function(){var t=uni.getSystemInfoSync(),i=t.windowWidth/750,a=Math.floor(98*i),e=t.windowHeight-a;console.log(t.windowHeight),this.setData({scrollHeight:e})},setData:function(t){var i,a,e=this,n=[];Object.keys(t).forEach((function(s){n=s.split("."),i=t[s],a=e.$data,n.forEach((function(t,s){console.log(t),s+1===n.length?e.$set(a,t,i):a[t]||e.$set(a,t,{}),a=a[t]}))}))}}};i.default=s},e84d:function(t,i,a){"use strict";a.r(i);var e=a("b0c0"),n=a.n(e);for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);i["default"]=n.a}}]);