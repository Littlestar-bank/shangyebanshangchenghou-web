(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-category-list"],{"04c9":function(t,i,e){"use strict";var a,s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"list-header"},[a("v-uni-view",{staticClass:"index-search-box dis-flex"},[a("v-uni-view",{staticClass:"index-search flex-box",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.triggerSearch.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"index-cont-search"},[a("v-uni-icon",{staticClass:"text-center",attrs:{size:"15",type:"search"}}),a("v-uni-text",[t._v(t._s(t.option.search?t.option.search:"搜索商品"))])],1)],1),a("v-uni-view",{staticClass:"list-right f-28",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onChangeShowState.apply(void 0,arguments)}}},[t.showView?a("v-uni-text",{staticClass:"iconfont icon-tubiao_kuaizhuangpailie"}):a("v-uni-text",{staticClass:"iconfont icon-tubiao_liebiaopailie"})],1)],1),a("v-uni-view",{staticClass:"store_nav_cont dis-flex b-f b-b"},[a("v-uni-view",{staticClass:"flex-box t-c p-r",attrs:{"data-type":"all","data-index":"0 ",id:"list-"+("all"===t.sortType||0)},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.switchSortType.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("综合")])],1),a("v-uni-view",{staticClass:"flex-box t-c p-r",attrs:{"data-type":"sales","data-index":"1",id:"list-"+("sales"===t.sortType||0)},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.switchSortType.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("销量")])],1),a("v-uni-view",{staticClass:"dis-flex flex-x-center flex-box t-c p-r",attrs:{"data-type":"price","data-index":"2",id:"list-"+("price"===t.sortType||0)},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.switchSortType.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"price__text"},[t._v("价格")]),a("v-uni-view",{staticClass:"price__arrow dis-flex flex-dir-column flex-x-center flex-y-center"},[a("v-uni-text",{class:"iconfont icon-arrow-top "+(t.sortPrice?"":"active")}),a("v-uni-text",{class:"iconfont icon-arrow-bottom "+(t.sortPrice?"active":"")})],1)],1)],1),t.list.data.length>0?a("v-uni-scroll-view",{style:"height: "+t.scrollHeight+"px; width: 750rpx;",attrs:{"scroll-y":!0},on:{scrolltolower:function(i){arguments[0]=i=t.$handleEvent(i),t.bindDownLoad.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"new"},[a("v-uni-view",{class:"category-list "+(t.showView?"arrange":"")},t._l(t.list.data,(function(i,e){return a("v-uni-navigator",{key:e,staticClass:"list b-f",attrs:{"hover-class":"none",url:"../goods/index?goods_id="+i.goods_id}},[a("v-uni-view",{staticClass:"left"},[a("v-uni-view",{staticClass:"img"},[a("v-uni-image",{staticClass:"goodsImg",attrs:{mode:"scaleToFill",src:i.goods_image}})],1)],1),a("v-uni-view",{staticClass:"right"},[a("v-uni-view",{staticClass:"cont"},[a("v-uni-text",{staticClass:"title f-29 twolist-hidden"},[t._v(t._s(i.goods_name))]),t.showView?[a("v-uni-view",{staticClass:"selling_point onelist-hidden"},[a("v-uni-text",[t._v(t._s(i.selling_point))])],1),a("v-uni-view",{staticClass:"goods_sales dis-flex"},[a("v-uni-text",{staticClass:"onelist-hidden"},[t._v("已售"+t._s(i.goods_sales)+"件")])],1)]:t._e(),a("v-uni-view",{staticClass:"detail-price onelist-hidden"},[a("v-uni-text",{staticClass:"goods-price f-30 col-m"},[t._v("￥"+t._s(i.goods_sku.goods_price))]),i.goods_sku.line_price>0?a("v-uni-text",{staticClass:"line-price col-9 f-24"},[t._v(t._s(i.goods_sku.line_price))]):t._e()],1)],2)],1)],1)})),1)],1),t.no_more?a("v-uni-view",{staticClass:"no-more f-30"},[t._v("亲, 没有更多了")]):t._e()],1):t._e()],1),t.isLoading||t.list.data.length?t._e():a("v-uni-view",{staticClass:"shop-notcont",staticStyle:{"margin-top":"130px"}},[a("v-uni-view",{staticClass:"img"},[a("v-uni-image",{attrs:{src:e("5c24"),mode:"aspectFit"}})],1),a("v-uni-text",{staticClass:"cont"},[t._v("亲, 没有相关内容")])],1)],1)},o=[];e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}))},"35bf":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".store_nav_cont[data-v-73668ae2]{padding:%?20?% 0}.store_nav_cont #list-true[data-v-73668ae2]{color:#ff495e;font-size:%?28?%}.store_nav_cont #list-0[data-v-73668ae2]{color:#333;font-size:%?28?%}.store_nav_cont .price__arrow[data-v-73668ae2]{padding-left:%?20?%;font-size:%?18?%;color:#777}.store_nav_cont #list-true .price__arrow uni-text.active[data-v-73668ae2]{color:#ff495e}.container[data-v-73668ae2]{position:relative}.index-cont-search uni-icon[data-v-73668ae2]{left:0;margin-left:%?20?%}.index-search-box[data-v-73668ae2]{background:#fff;padding:%?18?% %?13?%;border-bottom:%?1?% solid #eee}.index-search[data-v-73668ae2]{border-bottom:0;background:#fff;border-radius:%?50?%;overflow:hidden;position:relative;font-size:%?32?%;color:#999;box-sizing:border-box;height:%?64?%;line-height:%?64?%;margin:0 %?10?%}.list-right[data-v-73668ae2]{width:%?60?%}.list-right uni-text[data-v-73668ae2]{height:%?60?%;line-height:%?60?%;font-size:%?40?%}.list-header[data-v-73668ae2]{position:fixed;top:%?1?%;left:0;right:0}.no-more[data-v-73668ae2]{text-align:center;color:#737373;padding:%?20?% 0}.category-list[data-v-73668ae2]{overflow:hidden}.category-list .list[data-v-73668ae2]{box-sizing:border-box;width:50%;float:left}.category-list .list[data-v-73668ae2]:nth-child(2n){border-left:%?4?% solid #f7f7f7;border-bottom:%?8?% solid #f7f7f7}.category-list .list[data-v-73668ae2]:nth-child(2n-1){border-right:%?4?% solid #f7f7f7;border-bottom:%?8?% solid #f7f7f7}.category-list .list .left[data-v-73668ae2], .category-list .right[data-v-73668ae2]{width:100%}.category-list .list .left .img uni-image[data-v-73668ae2]{width:100%;height:%?375?%;display:block}.category-list .right .cont[data-v-73668ae2]{padding:%?10?% %?12?%}.category-list .right .cont .title[data-v-73668ae2]{height:%?72?%;line-height:1.3}.category-list.arrange .list[data-v-73668ae2]{overflow:hidden;padding:%?15?%;border-bottom:%?1?% solid #f7f7f7;width:100%}.category-list.arrange .list uni-text[data-v-73668ae2]{line-height:1.6}.category-list.arrange .list .left[data-v-73668ae2]{width:35%;float:left}.category-list.arrange .list .right[data-v-73668ae2]{width:65%;float:left}.category-list.arrange .list .left .img uni-image[data-v-73668ae2]{width:%?220?%;height:%?220?%}\r\n\r\n/* 商品卖点 */.selling_point[data-v-73668ae2]{width:100%;font-size:%?24?%;line-height:1.4;color:#ff495e}.goods_sales[data-v-73668ae2]{color:#999;font-size:%?24?%}\r\n\r\n/* 商品价格 */.detail-price[data-v-73668ae2]{font-size:%?24?%}.detail-price .goods-price[data-v-73668ae2]{margin-right:%?8?%}.detail-price .line-price[data-v-73668ae2]{text-decoration:line-through}",""])},"4a58":function(t,i,e){"use strict";e.r(i);var a=e("04c9"),s=e("a3fc");for(var o in s)"default"!==o&&function(t){e.d(i,t,(function(){return s[t]}))}(o);e("809b");var n,r=e("f0c5"),c=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"73668ae2",null,!1,a["a"],n);i["default"]=c.exports},"4cb2":function(t,i,e){var a=e("35bf");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("041ea8f0",a,!0,{sourceMap:!1,shadowMode:!1})},"5c24":function(t,i,e){t.exports=e.p+"static/img/no_content.3c66ea94.png"},"809b":function(t,i,e){"use strict";var a=e("4cb2"),s=e.n(a);s.a},a3fc:function(t,i,e){"use strict";e.r(i);var a=e("c463"),s=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=s.a},c463:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("28a5"),e("456d"),e("ac6a"),e("386d");var a=e("787c"),s="category/list::",o=getApp().globalData,n={components:{},props:{},data:function(){return{scrollHeight:null,showView:!1,sortType:"all",sortPrice:!1,option:{},list:{data:[]},no_more:!1,isLoading:!0,page:1}},onLoad:function(t){var i=this;i.setListHeight(),i.setData({option:t}),i.setShowView(),i.getGoodsList(),(0,a.getJSSDK)(o,window.location.href),(0,a.wxShare)({title:"全部分类",desc:"全部分类",link:o.domain+"#/pages/category/index?"+o.getShareUrlParams(),imgUrl:"",callback:function(){}})},onShareAppMessage:function(){return{title:"全部分类",path:"/pages/category/index?"+o.getShareUrlParams()}},methods:{setShowView:function(){var t=this;t.setData({showView:uni.getStorageSync(s+"showView")||!1})},getGoodsList:function(t,i){var e=this;o._get("goods/lists",{page:i||1,sortType:this.sortType,sortPrice:this.sortPrice?1:0,category_id:this.option.category_id||0,search:this.option.search||""},(function(i){var a=i.data.list,s=e.list;!0===t?e.setData({"list.data":s.data.concat(a.data),isLoading:!1}):e.setData({list:a,isLoading:!1})}))},setListHeight:function(){var t=this;uni.getSystemInfo({success:function(i){t.setData({scrollHeight:i.windowHeight-90})}})},switchSortType:function(t){var i=this,e=t.currentTarget.dataset.type,a="price"!==e||!this.sortPrice;this.setData({list:{data:[]},isLoading:!0,page:1,sortType:e,sortPrice:a}),i.getGoodsList()},onChangeShowState:function(){var t=this,i=!t.showView;uni.setStorageSync(s+"showView",i),t.setData({showView:i})},bindDownLoad:function(){if(this.page>=this.list.last_page)return this.setData({no_more:!0}),!1;this.getGoodsList(!0,++this.page)},triggerSearch:function(){var t=getCurrentPages();t.length>1&&"pages/search/index"===t[t.length-2].route?uni.navigateBack():uni.navigateTo({url:"../search/index"})},setData:function(t){var i,e,a=this,s=[];Object.keys(t).forEach((function(o){s=o.split("."),i=t[o],e=a.$data,s.forEach((function(t,o){console.log(t),o+1===s.length?a.$set(e,t,i):e[t]||a.$set(e,t,{}),e=e[t]}))}))}}};i.default=n}}]);