(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-comment-comment"],{"17ec":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("28a5"),i("456d"),i("ac6a");var a=getApp().globalData,n={components:{},props:{},data:function(){return{swiperHeight:0,options:{goods_id:null,scoreType:-1},list:{data:[]},page:1,notcont:!1,total:"",no_more:!1}},onLoad:function(t){var e=this;this.setSwiperHeight(),e.setData({"options.goods_id":t.goods_id}),e.getCommentList()},methods:{setSwiperHeight:function(){var t=uni.getSystemInfoSync(),e=t.windowWidth/750,i=Math.floor(80*e)+1,a=t.windowHeight-i;this.setData({swiperHeight:a})},getCommentList:function(t,e){var i=this,n=i.options;n.page=e||1,a._get("comment/lists",n,(function(e){var a=e.data.list,n=i.list;!0!==t||"undefined"===typeof n.data?i.setData({list:a,total:e.data.total,notcont:!a.length}):i.setData({"list.data":n.data.concat(a.data),total:e.data.total})}))},swichNav:function(t){this.setData({list:{data:[]},page:1,no_more:!1,"options.scoreType":t}),this.getCommentList()},previewImages:function(t,e){var i=this.list.data[t].image,a=[];i.forEach((function(t){a.push(t.file_path)})),uni.previewImage({current:a[e],urls:a})},bindDownLoad:function(){if(this.page>=this.list.last_page)return this.setData({no_more:!0}),!1;this.getCommentList(!0,++this.page)},setData:function(t){var e,i,a=this,n=[];Object.keys(t).forEach((function(o){n=o.split("."),e=t[o],i=a.$data,n.forEach((function(t,o){console.log(t),o+1===n.length?a.$set(i,t,e):i[t]||a.$set(i,t,{}),i=i[t]}))}))}}};e.default=n},"333f":function(t,e,i){"use strict";i.r(e);var a=i("17ec"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"3e4b":function(t,e,i){"use strict";i.r(e);var a=i("c4e5"),n=i("333f");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("6233");var s,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"159dd9d0",null,!1,a["a"],s);e["default"]=r.exports},6233:function(t,e,i){"use strict";var a=i("88c4"),n=i.n(a);n.a},8811:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'/* 选项卡 */.swiper-tab[data-v-159dd9d0]{width:100%;text-align:center;height:%?80?%;background-color:#fff;border-bottom:1px solid #eee}.swiper-tab .swiper-tab-item[data-v-159dd9d0]{width:25%;height:100%;font-size:%?28?%;color:#777;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;box-sizing:border-box;border-bottom:2px solid hsla(0,0%,100%,0)}.swiper-tab .on[data-v-159dd9d0]{color:#f74c45;border-bottom:2px solid #f74c45}\r\n\r\n/* 设置scroll-view容器高度 */.comment-list[data-v-159dd9d0], .shop-notcont[data-v-159dd9d0]{height:100.1%}\r\n\r\n/* 评论列表 */.goods-comment-box[data-v-159dd9d0]{padding:%?30?%;box-sizing:border-box}.goods-comment-box .row[data-v-159dd9d0]{width:100%}.goods-comment-box .user .user_avatar[data-v-159dd9d0]{width:%?50?%;height:%?50?%;border-radius:50%;margin-right:%?15?%}.goods-comment-box .comment-images[data-v-159dd9d0]{width:100%;margin-top:%?20?%}.goods-comment-box .comment-images[data-v-159dd9d0]::after{clear:both;content:" ";display:table}.goods-comment-box .comment-images .image-preview[data-v-159dd9d0]{float:left;margin-bottom:%?15?%;margin-right:%?15?%}.goods-comment-box .comment-images .image-preview[data-v-159dd9d0]:nth-child(3n+0){margin-right:0}.goods-comment-box .comment-images .image-preview uni-image[data-v-159dd9d0]{display:block;width:%?220?%;height:%?220?%}\r\n\r\n/* 没有更多 */.no-more[data-v-159dd9d0]{text-align:center;color:#737373;padding:10px 0}',""])},"88c4":function(t,e,i){var a=i("8811");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("5c0dd9f5",a,!0,{sourceMap:!1,shadowMode:!1})},c4e5:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.total.all>0?i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"swiper-tab dis-flex box-align-center flex-y-center"},[i("v-uni-view",{class:"swiper-tab-item "+(-1==t.options.scoreType?"on":""),attrs:{"data-current":"-1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.swichNav(-1)}}},[t._v("全部 ("+t._s(t.total.all)+")")]),i("v-uni-view",{class:"swiper-tab-item "+(10==t.options.scoreType?"on":""),attrs:{"data-current":"10"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.swichNav(10)}}},[t._v("好评 ("+t._s(t.total.praise)+")")]),i("v-uni-view",{class:"swiper-tab-item "+(20==t.options.scoreType?"on":""),attrs:{"data-current":"20"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.swichNav(20)}}},[t._v("中评 ("+t._s(t.total.review)+")")]),i("v-uni-view",{class:"swiper-tab-item "+(30==t.options.scoreType?"on":""),attrs:{"data-current":"30"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.swichNav(30)}}},[t._v("差评 ("+t._s(t.total.negative)+")")])],1),i("v-uni-scroll-view",{style:"height: "+t.swiperHeight+"px;",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.bindDownLoad.apply(void 0,arguments)}}},[t.list.data.length?i("v-uni-view",{staticClass:"comment-list"},t._l(t.list.data,(function(e,a){return i("v-uni-view",{key:a,staticClass:"comment-item"},[i("v-uni-view",{staticClass:"goods-comment-box dis-flex flex-dir-column b-f b-b"},[i("v-uni-view",{staticClass:"row dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"user dis-flex flex-y-center"},[i("v-uni-image",{staticClass:"user_avatar",attrs:{mode:"aspectFill",src:e.user&&e.user.avatarUrl}}),i("v-uni-text",{staticClass:"user_name f-26"},[t._v(t._s(e.user&&e.user.nickName))])],1),i("v-uni-view",{staticClass:"com_xing dis-flex flex-y-center"},[i("v-uni-text",{staticClass:"iconfont icon-shoucang active"}),e.score<30?[i("v-uni-text",{staticClass:"iconfont icon-shoucang active"}),i("v-uni-text",{staticClass:"iconfont icon-shoucang active"})]:t._e(),e.score<20?[i("v-uni-text",{staticClass:"iconfont icon-shoucang active"}),i("v-uni-text",{staticClass:"iconfont icon-shoucang active"})]:t._e()],2),i("v-uni-view",{staticClass:"flex-box f-22 col-9 t-r"},[t._v(t._s(e.create_time))])],1),i("v-uni-view",{staticClass:"goods-comment-cont row m-top20"},[i("v-uni-text",{staticClass:"f-26"},[t._v(t._s(e.content))])],1),e.image.length?i("v-uni-view",{staticClass:"comment-images row"},t._l(e.image,(function(e,n){return i("v-uni-view",{key:n,staticClass:"image-preview"},[i("v-uni-image",{attrs:{"data-comment-index":a,"data-img-index":n,mode:"aspectFill",src:e.file_path},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.previewImages(a,n)}}})],1)})),1):t._e(),i("v-uni-view",{staticClass:"row f-24 col-9"},[t._v(t._s(e.order_goods.goods_attr))])],1)],1)})),1):t.notcont?i("v-uni-view",{staticClass:"shop-notcont"},[i("v-uni-text",{staticClass:"iconfont icon-wushuju"}),i("v-uni-text",{staticClass:"cont"},[t._v("亲，暂时没有记录哦")])],1):t._e()],1)],1):t._e()},o=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}))}}]);