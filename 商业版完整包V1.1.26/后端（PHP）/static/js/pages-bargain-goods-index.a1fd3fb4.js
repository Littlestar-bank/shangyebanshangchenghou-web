(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-bargain-goods-index"],{"11b7":function(t,i,e){var a=e("3fc3");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=e("4f06").default;o("68122f68",a,!0,{sourceMap:!1,shadowMode:!1})},"3fc3":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'/* wxParse.wxss */.container[data-v-ab8b6428]{padding-bottom:%?112?%}.slide-image[data-v-ab8b6428]{background:#fff}.banner-box[data-v-ab8b6428]{height:%?750?%}\r\n\r\n/* banner计数 */.banner-num[data-v-ab8b6428]{position:absolute;right:%?30?%;margin-top:%?-70?%;padding:%?2?% %?18?%;background:rgba(0,0,0,.363);border-radius:%?50?%;color:#fff;font-size:%?26?%}\r\n\r\n/* 商品信息 */.goods-info[data-v-ab8b6428]{background:#fff;padding:%?25?% %?30?%}.info-item__top[data-v-ab8b6428]{height:%?54?%;margin-bottom:%?30?%}.info-item__top .active-tag[data-v-ab8b6428]{width:%?108?%;color:#fff;background:#fe293f;padding:%?3?% %?5?%;border-radius:%?15?%;font-size:%?24?%;text-align:center;margin-right:%?15?%}.floor-price__samll[data-v-ab8b6428]{font-size:%?26?%;line-height:1;color:#fe293f}\r\n\r\n/* 砍价底价 */.floor-price[data-v-ab8b6428]{color:#fe293f;margin-right:%?15?%;font-size:%?38?%;line-height:1;margin-bottom:%?-2?%}.original-price[data-v-ab8b6428]{font-size:%?24?%;line-height:1;text-decoration:line-through;color:#959595}.goods-sales[data-v-ab8b6428]{font-size:%?24?%;color:#959595}.info-item__name .goods-name[data-v-ab8b6428]{font-size:%?28?%}\r\n\r\n/* 商品分享 */.goods-share__line[data-v-ab8b6428]{border-left:%?1?% solid #f4f4f4;height:%?60?%;margin:0 %?30?%}.goods-share .share-btn[data-v-ab8b6428]{line-height:normal;padding:0;background:none;border-radius:0;box-shadow:none;font-size:8pt;border:none;color:#191919}.goods-share .share-btn[data-v-ab8b6428]::after{border:none}.goods-share .share__icon[data-v-ab8b6428]{font-size:%?40?%;margin-bottom:%?5?%}\r\n\r\n/* 商品卖点 */.info-item_selling-point[data-v-ab8b6428]{margin-top:%?15?%;font-size:%?24?%;color:grey}\r\n\r\n/* 活动状态 */.info-item_status[data-v-ab8b6428]{margin-top:%?20?%;padding:%?15?% %?20?%;font-size:%?24?%;border-radius:%?6?%}.info-item_status .countdown-icon[data-v-ab8b6428]{font-size:%?28?%;margin-right:%?15?%}\r\n\r\n/* 活动倒计时 */.info-item_countdown[data-v-ab8b6428]{background:#f0f9ff;color:#8f8f8f}.info-item_countdown .countdown-icon[data-v-ab8b6428]{color:#1397d8}\r\n\r\n/* 活动已结束 */.info-item_end[data-v-ab8b6428]{background:#ccc;color:#fff}\r\n\r\n/* sku选择器 */.sku-selector[data-v-ab8b6428]{padding:%?25?% %?30?%}.item-title[data-v-ab8b6428]{font-size:%?28?%}\r\n\r\n/* 砍价玩法 */.bargain-rules[data-v-ab8b6428]{padding:%?20?% 0;font-size:%?29?%}.bargain-rules .item-title[data-v-ab8b6428]{padding:0 %?30?%}.bargain-rules .rule-simple[data-v-ab8b6428]{margin-top:%?35?%;color:#737373}.bargain-rules .i-number[data-v-ab8b6428]{width:%?60?%;height:%?60?%;border-radius:50%;margin-bottom:%?15?%;border:%?1?% dashed silver}\r\n\r\n/* 商品评论 */.goods-comment[data-v-ab8b6428]{padding:%?20?% %?30?%}.goods-comment .item-title[data-v-ab8b6428]{font-size:%?28?%;margin-bottom:%?30?%}.goods-comment .item-title .show-more[data-v-ab8b6428]{margin-right:%?8?%;font-size:%?26?%}.comment-item[data-v-ab8b6428]{padding:0 %?5?%}.user-info[data-v-ab8b6428]{margin-right:%?15?%}.user-info .avatar[data-v-ab8b6428]{width:%?50?%;height:%?50?%;border-radius:50%;margin-right:%?10?%}.user-name[data-v-ab8b6428]{font-size:%?24?%}.star-rating .star-icon[data-v-ab8b6428]{padding-right:%?6?%;color:#ccc;font-size:%?26?%}.star-rating .star-icon.active[data-v-ab8b6428]{color:#f4a213}.goods-comment-cont[data-v-ab8b6428]{font-size:%?30?%;color:#333;margin:%?12?% 0}\r\n\r\n/* 商品详情 */.goods-content .item-title[data-v-ab8b6428]{padding:%?20?% %?30?%}\r\n\r\n/* 返回顶部 */.widget-goTop[data-v-ab8b6428]{bottom:%?210?%}\r\n\r\n/* 底部操作栏 */.footer-fixed[data-v-ab8b6428]{height:%?92?%}.footer-container[data-v-ab8b6428]{width:100%}.foo-item-fast[data-v-ab8b6428]{box-sizing:border-box;width:%?256?%;line-height:1}.fast-item[data-v-ab8b6428]{padding:0 %?10?%;line-height:1}.fast-item .fast-icon[data-v-ab8b6428]{margin-bottom:%?6?%}.fast-item.fast-item_home[data-v-ab8b6428]{margin-right:%?30?%}.foo-item-fast .fast-icon[data-v-ab8b6428]{font-size:%?46?%}.foo-item-fast .fast-text[data-v-ab8b6428]{font-size:%?24?%}\r\n\r\n/* 确认购买弹窗 */.popup__trade[data-v-ab8b6428]{width:%?750?%;position:relative;padding-bottom:%?92?%;z-index:999}.popup__trade .trade-close[data-v-ab8b6428]{position:absolute;top:%?20?%;right:%?20?%;width:%?50?%;height:%?50?%}.popup__trade .trade-main[data-v-ab8b6428]{background:#fff;box-sizing:border-box;padding:%?30?% %?25?%}.popup__trade .footer-fixed[data-v-ab8b6428]{position:absolute;box-shadow:none}.popup__trade .trade-main .goods-info .goods-image[data-v-ab8b6428]{margin-top:%?-80?%;margin-right:%?20?%}.popup__trade .trade-main .goods-info .goods-image uni-image[data-v-ab8b6428]{width:%?180?%;height:%?180?%;border:%?5?% solid #fff;box-shadow:0 %?4?% %?10?% hsla(0,0%,86.3%,.79)}.popup__trade .trade-main .goods-info .line-price[data-v-ab8b6428]{color:#777;font-size:%?26?%;text-decoration:line-through;margin-left:%?10?%}.popup__trade .trade-main .goods-info .goods-stock[data-v-ab8b6428]{padding-left:%?10?%;margin-top:%?10?%;color:#777;font-size:%?26?%}.popup__trade .trade-main .goods-number[data-v-ab8b6428]{margin:%?20?% 0;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.popup__trade .trade-main .goods-number .tips-text[data-v-ab8b6428]{color:#888;background:#fff;border-radius:%?10?%;margin-bottom:%?10?%;font-size:%?26?%}\r\n\r\n/* 商品规格 */.goods-attr[data-v-ab8b6428]{padding:%?10?% 0}.goods-attr .goods-attr--scroll[data-v-ab8b6428]{max-height:%?600?%}.goods-attr .group-item .tips-text[data-v-ab8b6428]{font-size:%?26?%;color:#888;margin-bottom:%?10?%}.goods-attr .group-item .spec-item[data-v-ab8b6428]{display:inline-block}.goods-attr .group-item .spec-item[data-v-ab8b6428]{font-size:%?26?%;height:%?55?%;line-height:%?55?%;padding:0 %?30?%;margin:0 %?20?% %?20?% 0;border-radius:%?8?%;color:#888;border:%?1?% solid #e6e6e6}.goods-attr .group-item .spec-item.cur[data-v-ab8b6428]{background:#f82169;border:%?1?% solid #f82169;color:#fff}.goods-attr .group-item .spec-item.cur[data-v-ab8b6428]:after{position:absolute;bottom:0;right:0;content:"";display:inline-block;width:%?16?%;height:%?16?%}.goods-attr .group-item .spec-item.disabled[data-v-ab8b6428]{color:#dedede;cursor:not-allowed;background:#eee;border:%?2?% dashed #dedede}.select-number[data-v-ab8b6428]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?202?%;height:%?52?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;border:%?2?% solid #e7e7e7;border-radius:%?5?%}.select-number .default[data-v-ab8b6428]{float:left;width:%?60?%;height:%?52?%;line-height:%?48?%;padding:0;background:#fff;color:#444;font-size:%?40?%;border-radius:unset}.select-number .disabled[data-v-ab8b6428]{background:#f7f7f7;color:#ddd}.select-number uni-button[data-v-ab8b6428]:after{content:none;border:none}.select-number uni-input[data-v-ab8b6428]{float:left;width:%?80?%;height:%?52?%;line-height:%?52?%;border-right:%?1?% solid #eee;border-left:%?1?% solid #eee;text-align:center;font-size:%?28?%;color:#444}',""]),t.exports=i},"8d57":function(t,i,e){"use strict";var a=e("11b7"),o=e.n(a);o.a},a41e:function(t,i,e){"use strict";e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return a}));var a={shortcut:e("da18").default},o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.active.active_id?e("v-uni-view",{staticClass:"container"},[e("v-uni-scroll-view",{staticClass:"scroll-container",attrs:{"scroll-top":t.scrollTop,"scroll-y":"true"},on:{scroll:function(i){arguments[0]=i=t.$handleEvent(i),t.onScrollEvent.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"goods-swiper"},[e("v-uni-swiper",{staticClass:"banner-box swiper-box",attrs:{autoplay:t.autoplay,duration:t.duration,"indicator-dots":t.indicatorDots,interval:t.interval,circular:"true"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.setCurrent.apply(void 0,arguments)}}},t._l(t.goods.image,(function(i,a){return e("v-uni-swiper-item",{key:a,attrs:{"data-index":a},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onPreviewImages.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"slide-image",attrs:{mode:"aspectFill",src:i.file_path}})],1)})),1),e("v-uni-view",{staticClass:"banner-num"},[e("v-uni-text",[t._v(t._s(t.currentIndex))]),e("v-uni-text",[t._v("/")]),e("v-uni-text",[t._v(t._s(t.goods.image.length))])],1)],1),e("v-uni-view",{staticClass:"goods-info m-top20"},[e("v-uni-view",{staticClass:"info-item info-item__top dis-flex flex-x-between flex-y-end"},[e("v-uni-view",{staticClass:"block-left dis-flex flex-y-end"},[e("v-uni-view",{staticClass:"active-tag"},[e("v-uni-text",[t._v("限时砍价")])],1),e("v-uni-text",{staticClass:"floor-price__samll"},[t._v("￥")]),e("v-uni-text",{staticClass:"floor-price"},[t._v(t._s(t.active.floor_price))]),e("v-uni-text",{staticClass:"original-price"},[t._v("￥"+t._s(t.goods.goods_sku.goods_price))])],1),e("v-uni-view",{staticClass:"block-right dis-flex"},[e("v-uni-view",{staticClass:"goods-sales"},[e("v-uni-text",[t._v(t._s(t.active.active_sales)+"人已砍成")])],1)],1)],1),e("v-uni-view",{staticClass:"info-item info-item__name dis-flex flex-y-center"},[e("v-uni-view",{staticClass:"goods-name flex-box"},[e("v-uni-text",{staticClass:"twolist-hidden"},[t._v(t._s(t.goods.goods_name))])],1),e("v-uni-view",{staticClass:"goods-share__line"}),e("v-uni-view",{staticClass:"goods-share"},[e("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.onClickShare.apply(void 0,arguments)}}},[e("v-uni-button",{staticClass:"share-btn dis-flex flex-dir-column",attrs:{formType:"submit"}},[e("v-uni-text",{staticClass:"share__icon iconfont icon-fenxiang"}),e("v-uni-text",{staticClass:"f-24"},[t._v("分享")])],1)],1)],1)],1),t.goods.selling_point?e("v-uni-view",{staticClass:"info-item info-item_selling-point"},[e("v-uni-text",[t._v(t._s(t.goods.selling_point))])],1):t._e(),t.active.is_end?t._e():e("v-uni-view",{staticClass:"info-item info-item_status info-item_countdown"},[e("v-uni-text",{staticClass:"countdown-icon iconfont icon-naozhong"}),t._l(t.actEndTimeList,(function(i,a){return[e("v-uni-text",[t._v("距离活动结束 还剩"+t._s(i.dynamic.hou)+"时"+t._s(i.dynamic.min)+"分"+t._s(i.dynamic.sec)+"秒")])]}))],2),t.active.is_end?e("v-uni-view",{staticClass:"info-item info-item_status info-item_end"},[e("v-uni-text",{staticClass:"countdown-icon iconfont icon-naozhong"}),e("v-uni-text",[t._v("砍价活动已结束，下次记得早点来哦~")])],1):t._e()],1),e("v-uni-view",{staticClass:"bargain-rules top-nav-bar m-top20 b-f"},[e("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.onToggleRules.apply(void 0,arguments)}}},[e("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[e("v-uni-view",{staticClass:"item-title dis-flex"},[e("v-uni-view",{staticClass:"block-left flex-box"},[e("v-uni-text",[t._v("砍价玩法")])],1),e("v-uni-view",{staticClass:"block-right"},[e("v-uni-text",{staticClass:"show-more col-9"},[t._v("查看规则")])],1)],1),e("v-uni-view",{staticClass:"rule-simple dis-flex flex-x-around"},[e("v-uni-view",{staticClass:"simple-item dis-flex flex-dir-column flex-y-center"},[e("v-uni-view",{staticClass:"i-number dis-flex flex-x-center flex-y-center"},[e("v-uni-text",{staticClass:"f-30"},[t._v("1")])],1),e("v-uni-view",{staticClass:"i-text f-28"},[t._v("点击砍价")])],1),e("v-uni-view",{staticClass:"simple-item dis-flex flex-dir-column flex-y-center"},[e("v-uni-view",{staticClass:"i-number dis-flex flex-x-center flex-y-center"},[e("v-uni-text",{staticClass:"f-30"},[t._v("2")])],1),e("v-uni-view",{staticClass:"i-text f-28"},[t._v("找人帮砍")])],1),e("v-uni-view",{staticClass:"simple-item dis-flex flex-dir-column flex-y-center"},[e("v-uni-view",{staticClass:"i-number dis-flex flex-x-center flex-y-center"},[e("v-uni-text",{staticClass:"f-30"},[t._v("3")])],1),e("v-uni-view",{staticClass:"i-text f-28"},[t._v("砍到最低")])],1),e("v-uni-view",{staticClass:"simple-item dis-flex flex-dir-column flex-y-center"},[e("v-uni-view",{staticClass:"i-number dis-flex flex-x-center flex-y-center"},[e("v-uni-text",{staticClass:"f-30"},[t._v("4")])],1),e("v-uni-view",{staticClass:"i-text f-28"},[t._v("优惠购买")])],1)],1)],1)],1)],1),t.goods.comment_data&&t.goods.comment_data.length?e("v-uni-view",{staticClass:"goods-comment m-top20 b-f"},[e("v-uni-view",{staticClass:"item-title dis-flex"},[e("v-uni-view",{staticClass:"block-left flex-box"},[e("v-uni-text",[t._v("评价 (4条)")])],1),e("v-uni-view",{staticClass:"block-right"},[e("v-uni-text",{staticClass:"show-more col-9",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onTargetToComment.apply(void 0,arguments)}}},[t._v("查看更多")]),e("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou"})],1)],1),e("v-uni-view",{staticClass:"comment-list"},t._l(t.goods.comment_data,(function(i,a){return e("v-uni-view",{key:a,staticClass:"comment-item"},[e("v-uni-view",{staticClass:"comment-item_row dis-flex flex-y-center"},[e("v-uni-view",{staticClass:"user-info dis-flex flex-y-center"},[e("v-uni-image",{staticClass:"avatar",attrs:{src:i.user.avatarUrl}}),e("v-uni-text",{staticClass:"user-name"},[t._v(t._s(i.user.nickName))])],1),e("v-uni-view",{staticClass:"star-rating"},[e("v-uni-text",{staticClass:"star-icon iconfont icon-shoucang active"}),i.score<30?[e("v-uni-text",{staticClass:"star-icon iconfont icon-shoucang active"}),e("v-uni-text",{staticClass:"star-icon iconfont icon-shoucang active"})]:t._e(),i.score<20?[e("v-uni-text",{staticClass:"star-icon iconfont icon-shoucang active"}),e("v-uni-text",{staticClass:"star-icon iconfont icon-shoucang active"})]:t._e()],2)],1),e("v-uni-view",{staticClass:"goods-comment-cont m-top20"},[e("v-uni-text",{staticClass:"f-26 twolist-hidden"},[t._v(t._s(i.content))])],1),e("v-uni-view",{staticClass:"f-22 col-9 m-top10"},[t._v(t._s(i.create_time))])],1)})),1)],1):t._e(),e("v-uni-view",{staticClass:"goods-content m-top20"},[e("v-uni-view",{staticClass:"item-title b-f"},[e("v-uni-text",[t._v("商品描述")])],1),""!=t.goods.content?[e("v-uni-view",{staticClass:"goods-content__detail b-f"},[e("u-parse",{attrs:{content:t.goods.content}})],1)]:[e("v-uni-view",{staticClass:"yoshop-notcont"},[e("v-uni-text",{staticClass:"iconfont icon-wushuju"}),e("v-uni-text",{staticClass:"cont"},[t._v("亲，暂无商品描述")])],1)]],2)],1),e("v-uni-view",{staticClass:"footer-fixed"},[e("v-uni-view",{staticClass:"footer-container dis-flex"},[e("v-uni-view",{staticClass:"foo-item-fast dis-flex flex-x-center flex-y-center"},[e("v-uni-form",{attrs:{"report-submit":!0},on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.onTargetHome.apply(void 0,arguments)}}},[e("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[e("v-uni-view",{staticClass:"fast-item fast-item_home"},[e("v-uni-view",{staticClass:"fast-icon"},[e("v-uni-text",{staticClass:"iconfont icon-shouye"})],1),e("v-uni-view",{staticClass:"fast-text"},[e("v-uni-text",[t._v("首页")])],1)],1)],1)],1),e("v-uni-button",{staticClass:"btn-normal",attrs:{"open-type":"contact"}},[e("v-uni-view",{staticClass:"fast-item"},[e("v-uni-view",{staticClass:"fast-icon"},[e("v-uni-text",{staticClass:"iconfont icon-kefu1"})],1),e("v-uni-view",{staticClass:"fast-text"},[e("v-uni-text",[t._v("客服")])],1)],1)],1)],1),e("v-uni-view",{staticClass:"foo-item-trigger flex-box"},[e("v-uni-form",{attrs:{"report-submit":!0},on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.onSubmit.apply(void 0,arguments)}}},[t.active.is_start&&!t.active.is_end?e("v-uni-button",{staticClass:"opt-btn btn-main btn-normal",attrs:{formType:"submit"}},[e("v-uni-text",[t._v(t._s(t.is_partake?"继续砍价":"立即砍价"))])],1):e("v-uni-button",{staticClass:"opt-btn btn-gray btn-normal"},[e("v-uni-text",[t._v(t._s(t.active.is_end?"活动已结束":"活动未开启"))])],1)],1)],1)],1)],1),e("zan-actionsheet",{attrs:{show:t.share.show,actions:t.share.actions,"cancel-text":t.share.cancelText,"cancel-with-mask":t.share.cancelWithMask,"mask-class":"tiny"},on:{cancel:function(i){arguments[0]=i=t.$handleEvent(i),t.onCloseShare.apply(void 0,arguments)},actionclick:function(i){arguments[0]=i=t.$handleEvent(i),t.onClickShareItem.apply(void 0,arguments)}}}),e("zan-popup",{attrs:{show:t.showBottomPopup,type:"bottom"},on:{close:function(i){arguments[0]=i=t.$handleEvent(i),t.onToggleTrade.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"popup__trade"},[e("v-uni-view",{staticClass:"trade-close dis-flex flex-x-center flex-y-center",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onToggleTrade.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"iconfont icon-close f-26"})],1),e("v-uni-view",{staticClass:"trade-main"},[e("v-uni-view",{staticClass:"goods-info dis-flex"},[e("v-uni-view",{staticClass:"goods-image",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onPreviewSkuImage.apply(void 0,arguments)}}},[e("v-uni-image",{attrs:{src:t.skuCoverImage}})],1),e("v-uni-view",{staticClass:"block-right flex-box"},[e("v-uni-view",{staticClass:"block-item dis-flex flex-y-end"},[e("v-uni-view",{staticClass:"goods-price col-m"},[e("v-uni-text",{staticClass:"f-26"},[t._v("￥")]),e("v-uni-text",{staticClass:"f-36"},[t._v(t._s(t.active.floor_price))])],1),t.line_price>0?e("v-uni-view",{staticClass:"line-price"},[e("v-uni-text",[t._v(t._s(t.goods.goods_sku.goods_price))])],1):t._e()],1),e("v-uni-view",{staticClass:"goods-stock dis-flex"},[e("v-uni-text",{staticClass:"flex-box f-26 col-7"},[t._v("库存："+t._s(t.stock_num))])],1)],1)],1),e("v-uni-view",{staticClass:"goods-attr"},[e("v-uni-scroll-view",{staticClass:"goods-attr--scroll",attrs:{"scroll-y":"true"}},t._l(t.goodsMultiSpec.spec_attr,(function(i,a){return e("v-uni-view",{key:a,staticClass:"group-item"},[e("v-uni-view",{staticClass:"tips-text",attrs:{"data-id":i.group_id}},[t._v(t._s(i.group_name))]),t._l(i.spec_items,(function(i,o){return e("v-uni-view",{key:o,class:"spec-item "+(i.checked?"cur":""),attrs:{"data-attr-idx":a,"data-item-idx":o},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onSwitchSpec.apply(void 0,arguments)}}},[t._v(t._s(i.spec_value))])}))],2)})),1)],1)],1),e("v-uni-view",{staticClass:"footer-fixed f-30"},[t.stock_num>0?e("v-uni-view",{staticClass:"flex-box"},[e("v-uni-form",{attrs:{"report-submit":!0},on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.onSubmit2.apply(void 0,arguments)}}},[e("v-uni-button",{staticClass:"opt-btn btn-main btn-normal",attrs:{formType:"submit"}},[e("v-uni-text",[t._v("确定")])],1)],1)],1):e("v-uni-view",{staticClass:"flex-box opt-btn btn-gray"},[t._v("暂无现货")])],1)],1)],1),e("zan-dialog",{attrs:{id:"zan-base-dialog"}}),e("shortcut",{attrs:{bottom:"120rpx"}}),t.showTopWidget?e("v-uni-view",{staticClass:"widget-goTop",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onScrollTop.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"iconfont icon-fanhuidingbu"})],1):t._e()],1):t._e()},n=[]},b11c:function(t,i,e){"use strict";e.r(i);var a=e("ce3d"),o=e.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(n);i["default"]=o.a},c61e:function(t,i,e){"use strict";var a=e("4ea4").default,o=a(e("ade3"));e("4160"),e("159b"),e("e25e");var n=a(e("ca00"));t.exports={onSetTimeList:function(t,i){var e=this,a=this,s=(new Date).getTime(),r=[];t[i].forEach((function(t){var i=new Date(n.default.format_date(t.date)).getTime(),e={hou:"00",min:"00",sec:"00"};if(i-s>0){var o=(i-s)/1e3,c=parseInt(o/3600,10),d=parseInt(o%3600/60,10),l=parseInt(o%3600%60,10);e={hou:a.timeFormat(c),min:a.timeFormat(d),sec:a.timeFormat(l)}}r.push({date:t.date,dynamic:e})})),t.setData((0,o.default)({},i,r)),setTimeout((function(){e.onSetTimeList(t,i)}),1e3)},timeFormat:function(t){return t<10?"0"+t:t}}},ce3d:function(t,i,e){"use strict";var a=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=a(e("53ca"));e("a15b"),e("7db0"),e("4160"),e("159b"),e("b64b"),e("1276"),e("ac1f");var n=e("787c"),s=a(e("8b2e")),r=a(e("c61e")),c=a(e("7740")),d=a(e("427f")),l=a(e("bf46")),u=a(e("26e2")),v=a(e("da18")),f=[],g=getApp().globalData,m={components:{zanActionsheet:d.default,zanDialog:l.default,zanPopup:u.default,shortcut:v.default},props:{},data:function(){return{indicatorDots:!0,autoplay:!0,interval:3e3,duration:800,currentIndex:1,floorstatus:!1,detail:{},goods_price:0,line_price:0,stock_num:0,goods_num:1,goods_sku_id:0,cart_total_num:0,goodsMultiSpec:{},share:{show:!1,cancelWithMask:!0,cancelText:"关闭",actions:[{name:"生成商品海报",className:"action-class",loading:!1},{name:"发送给朋友",openType:"share"}],showPopup:!1},showTopWidget:!1,actEndTimeList:[],active:{},goods:{},setting:{},is_partake:!1,task_id:!1,active_id:"",skuCoverImage:"",scrollTop:0,showBottomPopup:!1,content:"",title:null,desc:null,imgUrl:null}},onLoad:function(t){var i=g.getSceneData(t);this.setData({active_id:t.active_id?t.active_id:i.aid})},onShow:function(){this.getActiveDetail(),(0,n.getJSSDK)(g,window.location.href)},onShareAppMessage:function(){var t=g.getShareUrlParams({active_id:this.active.active_id});return{title:this.detail.goods_name,path:"/pages/bargain/goods/index?"+t}},methods:{getActiveDetail:function(){var t=this;g._get("bargain.active/detail",{active_id:this.active_id},(function(i){var e=t._initDataFun(i.data);t.setData(e),e.active.is_end||r.default.onSetTimeList(t,"actEndTimeList");var a=g.getShareUrlParams({active_id:t.active.active_id});(0,n.wxShare)({title:t.title||t.detail.goods_name,desc:t.desc||t.detail.goods_name,link:g.domain+"#/pages/bargain/goods/index?"+a,imgUrl:t.imgUrl||"",callback:function(){}})}))},_initDataFun:function(t){var i=t.goods;return i.content.length>0&&s.default.wxParse("content","html",i.content,this,0),t.goods_sku_id=i.goods_sku.spec_sku_id,t.goods_price=i.goods_sku.goods_price,t.line_price=i.goods_sku.line_price,t.stock_num=i.goods_sku.stock_num,t.skuCoverImage=i.goods_image,20===i.spec_type&&i.goods_sku["image"]&&(t.skuCoverImage=i.goods_sku["image"]["file_path"]),20===i.spec_type&&(t.goodsMultiSpec=this._initManySpecDataFun(i.goods_multi_spec)),t.actEndTimeList=[{date:t.active.end_time}],t},_initManySpecDataFun:function(t){for(var i in f=[],t.spec_attr)for(var e in t.spec_attr[i].spec_items)e<1&&(t.spec_attr[i].spec_items[0].checked=!0,f[i]=t.spec_attr[i].spec_items[0].item_id);return t},onSwitchSpec:function(t){var i=t.currentTarget.dataset.attrIdx,e=t.currentTarget.dataset.itemIdx,a=this.goodsMultiSpec;for(var o in g.saveFormId(t.detail.formId),a.spec_attr)for(var n in a.spec_attr[o].spec_items)i===o&&(a.spec_attr[o].spec_items[n].checked=!1,e===n&&(a.spec_attr[o].spec_items[e].checked=!0,f[o]=a.spec_attr[o].spec_items[e].item_id));this.setData({goodsMultiSpec:a}),this._updateSpecGoodsFun()},_updateSpecGoodsFun:function(){var t=f.join("_"),i=this.goodsMultiSpec.spec_list,e=i.find((function(i){return i.spec_sku_id===t}));"object"===(0,o.default)(e)&&this.setData({goods_sku_id:e.spec_sku_id,goods_price:e.form.goods_price,line_price:e.form.line_price,stock_num:e.form.stock_num,skuCoverImage:e.form.image_id>0?e.form.image_path:this.goods.goods_image})},setCurrent:function(t){this.setData({currentIndex:t.detail.current+1})},onPreviewImages:function(t){var i=t.currentTarget.dataset.index,e=[];this.goods.image.forEach((function(t){e.push(t.file_path)})),uni.previewImage({current:e[i],urls:e})},onPreviewSkuImage:function(){uni.previewImage({current:this.skuCoverImage,urls:[this.skuCoverImage]})},onTargetToComment:function(){uni.navigateTo({url:"../../goods/comment/comment?goods_id="+this.goods.goods_id})},onScrollTop:function(){this.setData({scrollTop:0})},onScrollEvent:function(t){this.setData({showTopWidget:t.detail.scrollTop>200})},onClickShare:function(t){g.saveFormId(t.detail.formId),this.setData({"share.show":!0})},onCloseShare:function(){this.setData({"share.show":!1})},onClickShareItem:function(t){0===t.detail.index&&this._showPosterFun(),this.onCloseShare()},onTogglePopup:function(){this.setData({"share.showPopup":!this.share.showPopup})},_showPosterFun:function(){var t=this;uni.showLoading({title:"加载中"}),g._get("bargain.active/poster",{active_id:this.active_id},(function(i){t.setData(i.data),t.onTogglePopup()}),null,(function(){uni.hideLoading()}))},onSavePoster:function(t){g.saveFormId(t.detail.formId),uni.showLoading({title:"加载中"}),uni.downloadFile({url:this.qrcode,success:function(t){uni.hideLoading(),uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){uni.showToast({title:"保存成功",icon:"success",duration:2e3}),this.onTogglePopup()},fail:function(t){console.log(t.errMsg),"saveImageToPhotosAlbum:fail auth deny"===t.errMsg&&(uni.showToast({title:"请允许访问相册后重试",icon:"none",duration:1e3}),setTimeout((function(){uni.openSetting()}),1e3))},complete:function(){console.log("complete")}})}})},onToggleTrade:function(t){"object"===(0,o.default)(t)&&t.detail.hasOwnProperty("formId")&&g.saveFormId(t.detail.formId),this.setData({showBottomPopup:!this.showBottomPopup})},onToggleRules:function(t){g.saveFormId(t.detail.formId),(0,c.default)({title:"砍价规则",message:this.setting.bargain_rules,selector:"#zan-base-dialog",isScroll:!0,buttons:[{text:"关闭",color:"red",type:"cash"}]})},onSubmit:function(t){g.saveFormId(t.detail.formId),this.is_partake?uni.navigateTo({url:"../task/index?task_id="+this.task_id}):20!==this.goods.spec_type?this.onCheckout():this.onToggleTrade()},onSubmit2:function(t){g.saveFormId(t.detail.formId),this.onToggleTrade(),this.onCheckout()},onCheckout:function(){var t=this;if(this.disabled)return!1;uni.showLoading({title:"正在处理..."}),g._post_form("bargain.task/partake",{active_id:this.active_id,goods_sku_id:this.goods_sku_id},(function(t){console.log("success"),uni.navigateTo({url:"../task/index?task_id="+t.data.task_id})}),(function(){console.log("fail")}),(function(){console.log("complete"),uni.hideLoading(),t.disabled=!1}))},onTargetHome:function(t){g.saveFormId(t.detail.formId),uni.switchTab({url:"../../index/index"})},setData:function(t){var i,e,a=this,o=[];Object.keys(t).forEach((function(n){o=n.split("."),i=t[n],e=a.$data,o.forEach((function(t,n){console.log(t),n+1===o.length?a.$set(e,t,i):e[t]||a.$set(e,t,{}),e=e[t]}))}))}}};i.default=m},ecd1:function(t,i,e){"use strict";e.r(i);var a=e("a41e"),o=e("b11c");for(var n in o)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(n);e("8d57");var s,r=e("f0c5"),c=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"ab8b6428",null,!1,a["a"],s);i["default"]=c.exports}}]);