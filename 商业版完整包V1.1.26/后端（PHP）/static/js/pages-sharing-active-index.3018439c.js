(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sharing-active-index"],{"023f":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("pop-manager",{attrs:{show:t.show,type:t.type,"show-overlay":t.overlay},on:{clickmask:function(e){arguments[0]=e=t.$handleEvent(e),t.handleMaskClick.apply(void 0,arguments)}}},[t._t("default")],2)},n=[]},"1e71":function(t,e,i){"use strict";i.r(e);var a=i("5084"),o=i("d255");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("624c");var s,d=i("f0c5"),r=Object(d["a"])(o["default"],a["b"],a["c"],!1,null,"24d63304",null,!1,a["a"],s);e["default"]=r.exports},"26e2":function(t,e,i){"use strict";i.r(e);var a=i("023f"),o=i("8883");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);var s,d=i("f0c5"),r=Object(d["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],s);e["default"]=r.exports},5084:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={shortcut:i("da18").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.detail.active_id?i("v-uni-view",{staticClass:"container p-bottom"},[i("v-uni-view",{staticClass:"header dis-flex"},[i("v-uni-view",{staticClass:"header_lf",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onTargetGoods.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:t.goods.goods_image}})],1),i("v-uni-view",{staticClass:"header_rt"},[i("v-uni-view",{staticClass:"goods-name",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onTargetGoods.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"twolist-hidden"},[t._v(t._s(t.goods.goods_name))])],1),i("v-uni-view",{staticClass:"goods-price"},[i("v-uni-text",{staticClass:"f-26 col-m"},[t._v("￥")]),i("v-uni-text",{staticClass:"m-price"},[t._v(t._s(t.goods.goods_sku.sharing_price))]),t.goods.goods_sku.line_price>0?i("v-uni-text",{staticClass:"line-price"},[t._v("￥"+t._s(t.goods.goods_sku.line_price))]):t._e()],1),i("v-uni-view",{staticClass:"goods-tag"},[i("v-uni-text",{staticClass:"tag-item"},[t._v(t._s(t.detail.people)+"人团")]),t.goods.goods_sku.line_price>0?i("v-uni-text",{staticClass:"tag-item"},[t._v("拼团省"+t._s(t.goods.goods_sku.diff_price))]):t._e()],1)],1)],1),i("v-uni-view",{staticClass:"main"},[30==t.detail.status.value?i("v-uni-view",{staticClass:"main_status main_status__fail"},[i("v-uni-text",{staticClass:"status-icon iconfont icon-shibai"}),i("v-uni-text",[t._v("超过有效时间，拼团失败")])],1):t._e(),20==t.detail.status.value?i("v-uni-view",{staticClass:"main_status main_status__success"},[i("v-uni-text",{staticClass:"status-icon iconfont icon-success"}),i("v-uni-text",[t._v("拼团已成功")])],1):t._e(),i("v-uni-view",{staticClass:"main_user"},[t._l(t.detail.users,(function(e,a){return i("v-uni-view",{key:a,staticClass:"user-item"},[i("v-uni-image",{attrs:{src:e.user.avatarUrl}}),1==e.is_creator?i("v-uni-view",{staticClass:"user-role"},[i("v-uni-text",[t._v("团长")])],1):t._e()],1)})),t._l(t.detail.surplus_people,(function(t,e){return i("v-uni-view",{key:e,staticClass:"user-item user-item__wait dis-flex flex-x-center flex-y-center"},[i("v-uni-text",{staticClass:"iconfont icon-wenhao"})],1)}))],2),10==t.detail.status.value?i("v-uni-view",{staticClass:"main_status main_tiem"},[i("v-uni-text",[t._v("还差")]),i("v-uni-text",{staticClass:"main_timer_color"},[t._v(t._s(t.detail.surplus_people))]),i("v-uni-text",[t._v("个名额，")]),t._l(t.countDownList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"tui-countdown-content"},[i("v-uni-text",{staticClass:"tui-conutdown-box"},[t._v(t._s(e.hou))]),t._v(":"),i("v-uni-text",{staticClass:"tui-conutdown-box"},[t._v(t._s(e.min))]),t._v(":"),i("v-uni-text",{staticClass:"tui-conutdown-box tui-countdown-bg"},[t._v(t._s(e.sec))])],1)})),i("v-uni-text",[t._v("后结束")])],2):t._e(),10==t.detail.status.value?[t.is_join?i("v-uni-button",{attrs:{"open-type":"share",catchtap:"onShare"}},[t._v("立即分享")]):i("v-uni-button",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onTriggerOrder.apply(void 0,arguments)}}},[t._v("立即参团")])]:i("v-uni-button",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onTargetGoods.apply(void 0,arguments)}}},[t._v("去开团")])],2),i("v-uni-view",{staticClass:"notice",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onToggleRules.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"f-30"},[t._v("拼团须知")]),i("v-uni-text",{staticClass:"t-brief"},[t._v(t._s(t.setting.basic.rule_brief))]),i("v-uni-text",{staticClass:"icon-arrow"})],1),t.goodsList.data.length?i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"content_top",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onTargetIndex.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"f-30"},[t._v("更多拼团")]),i("v-uni-text",{staticClass:"icon-arrow"})],1),t._l(t.goodsList.data,(function(e,a){return i("v-uni-view",{key:a,staticClass:"content_main dis-flex",attrs:{"data-id":e.goods_id},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onTargetGoods.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"goods-image"},[i("v-uni-image",{attrs:{src:e.goods_image}})],1),i("v-uni-view",{staticClass:"goods-detail"},[i("v-uni-view",{staticClass:"goods-name twolist-hidden"},[i("v-uni-text",[t._v(t._s(e.goods_name))])],1),i("v-uni-view",{staticClass:"goods-sales"},[i("v-uni-text",[t._v("已团"+t._s(e.goods_sales)+"件")])],1),i("v-uni-view",{staticClass:"goods-detail_bottom clear"},[i("v-uni-view",{staticClass:"bottom-right onelist-hidden fl dis-flex flex-y-end"},[i("v-uni-text",{staticClass:"f-24 col-m"},[t._v("￥")]),i("v-uni-text",{staticClass:"goods-price col-m"},[t._v(t._s(e.goods_sku.sharing_price))]),i("v-uni-text",{staticClass:"line-price"},[t._v("￥"+t._s(e.goods_sku.line_price))])],1),i("v-uni-button",{staticClass:"fr btn-navie"},[t._v("去开团")])],1)],1)],1)}))],2):t._e()],1):t._e(),i("shortcut",{attrs:{right:"50rpx",bottom:"200rpx"}}),i("zan-popup",{attrs:{show:t.showBottomPopup,type:"bottom"},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.onToggleTrade.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"popup__trade"},[i("v-uni-view",{staticClass:"trade-close dis-flex flex-x-center flex-y-center",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onToggleTrade.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont icon-close f-26"})],1),i("v-uni-view",{staticClass:"trade-main"},[i("v-uni-view",{staticClass:"goods-info dis-flex"},[i("v-uni-view",{staticClass:"goods-image",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onPreviewSkuImage.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:t.skuCoverImage}})],1),i("v-uni-view",{staticClass:"flex-box"},[i("v-uni-view",{staticClass:"money-box"},[i("v-uni-text",{staticClass:"col-m f-26"},[t._v("￥")]),i("v-uni-text",{staticClass:"price col-m"},[t._v(t._s(t.sharing_price))]),t.line_price>0?i("v-uni-text",{staticClass:"del"},[t._v("￥"+t._s(t.line_price))]):t._e()],1),i("v-uni-view",{staticClass:"goods-stock dis-flex"},[i("v-uni-text",{staticClass:"flex-box f-26 col-7"},[t._v("库存："+t._s(t.stock_num))])],1)],1)],1),i("v-uni-view",{staticClass:"goods-list-box",attrs:{"scroll-y":"true"}},t._l(t.goodsMultiSpec.spec_attr,(function(e,a){return i("v-uni-view",{key:a,staticClass:"cf tmall-types"},[i("v-uni-view",{staticClass:"tipstxt",attrs:{"data-id":e.group_id}},[t._v(t._s(e.group_name))]),t._l(e.spec_items,(function(e,a){return i("v-uni-view",{key:a,staticClass:"cf cartypelist"},[e.checked?i("v-uni-view",[i("v-uni-form",{attrs:{"report-submit":"true","data-attr-idx":t.attr_idx,"data-item-idx":t.item_idx},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.onSwitchSpec.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-view",{staticClass:"cartypeitem cur"},[t._v(t._s(e.spec_value))])],1)],1)],1):i("v-uni-view",[i("v-uni-form",{attrs:{"report-submit":"true","data-attr-idx":t.attr_idx,"data-item-idx":t.item_idx},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.onSwitchSpec.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn-normal",attrs:{formType:"submit"}},[i("v-uni-view",{staticClass:"cartypeitem"},[t._v(t._s(e.spec_value))])],1)],1)],1)],1)}))],2)})),1),i("v-uni-view",{staticClass:"buy_number"},[i("v-uni-view",{staticClass:"buyNumber f-26"},[i("v-uni-text",[t._v("购买数量")])],1),i("v-uni-view",{staticClass:"select-number"},[i("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.onDecGoodsNumber.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"default",class:t.goods_num>1?"":" disabled",attrs:{formType:"submit",type:"default"}},[t._v("-")])],1),i("v-uni-input",{attrs:{type:"number",value:t.goods_num},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.onInputGoodsNum.apply(void 0,arguments)}}}),i("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.onIncGoodsNumber.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"default",class:t.goods_num>=1?"disabled":" ",attrs:{formType:"submit",type:"default"}},[t._v("+")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"footer-fixed f-30"},[t.stock_num>0?[i("v-uni-view",{staticClass:"order-bt dis-flex flex-x-center flex-y-center",attrs:{"data-type":"buyNow"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onCheckout.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("确定")])],1)]:i("v-uni-view",{staticClass:"default-btn"},[t._v("暂无现货")])],2)],1)],1),i("zan-dialog",{attrs:{id:"zan-base-dialog"}})],1)},n=[]},"624c":function(t,e,i){"use strict";var a=i("856e"),o=i.n(a);o.a},"726a":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'uni-page-body[data-v-24d63304]{background:#f3f3f3}uni-view[data-v-24d63304]{word-break:break-all\r\n    /* overflow: auto; */}\r\n\r\n/* 箭头图标 */.icon-arrow[data-v-24d63304]{display:inline-block;width:0;height:0;border-width:%?10?%;border-style:solid;border-color:transparent transparent transparent #ccc}\r\n\r\n/* 商品信息 */.header[data-v-24d63304]{margin:auto;margin-top:%?70?%;padding:%?30?% %?20?%;width:95%;background:#fff;border-radius:%?10?%;box-sizing:border-box;box-shadow:0 5px 12px #e2e2e2}.header .header_lf[data-v-24d63304]{box-shadow:0 2px 8px #e6e6e6;margin:%?-70?% %?20?% %?10?% %?10?%}.header .header_lf uni-image[data-v-24d63304]{display:block;width:%?320?%;height:%?320?%}.header .header_rt[data-v-24d63304]{background:#fff}.header .header_rt .goods-name[data-v-24d63304]{display:block;font-size:%?24?%;line-height:2}.header .header_rt .goods-price[data-v-24d63304]{margin:%?20?% %?10?%}.header .header_rt .goods-price .m-price[data-v-24d63304]{display:inline-block;font-size:%?40?%;color:#ff495e}.header .header_rt .goods-price .line-price[data-v-24d63304]{display:inline-block;margin:%?10?%;font-size:%?24?%;color:#8e8e8e;text-decoration:line-through}.header .header_rt .goods-tag .tag-item[data-v-24d63304]{display:inline-block;padding:%?4?% %?12?%;font-size:%?24?%;line-height:%?36?%;border-radius:%?5?%;color:#ff6464;background:#feeeee;margin-left:%?10?%;margin-bottom:%?10?%;box-sizing:border-box}.header[data-v-24d63304]:after{display:block;clear:both;content:"";visibility:hidden;height:0}\r\n\r\n/* 拼团成员 */.main[data-v-24d63304]{margin:auto;margin-top:%?30?%;padding:%?50?% %?20?%;width:95%;background:#fff;border-radius:%?10?%;box-sizing:border-box;box-shadow:0 5px 12px #e2e2e2}.main .main_user[data-v-24d63304]{display:-webkit-box;display:-webkit-flex;display:flex;margin:auto;width:%?600?%;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:%?30?%}.main .main_user .user-item[data-v-24d63304]{width:%?100?%;height:%?100?%;margin:0 %?25?% %?25?% 0;position:relative;box-sizing:border-box}.main .main_user .user-item[data-v-24d63304]:nth-child(5n + 0){margin-right:0}.main .main_user .user-item uni-image[data-v-24d63304]{width:100%;height:100%;border-radius:50%;border:%?1?% solid #f3f3f3}.main .main_user .user-item .user-role[data-v-24d63304]{width:100%;text-align:center;height:%?40?%;position:absolute;left:0;bottom:%?-1?%}.main .main_user .user-item .user-role uni-text[data-v-24d63304]{background:#fa1e8c;border-radius:%?15?%;display:inline-block;line-height:1.4;font-size:%?24?%;color:#fff;width:%?78?%}.main .main_user .user-item.user-item__wait[data-v-24d63304]{border-radius:50%;background:#f8f8f8;border:%?1?% dashed #dbdbdb}.main .main_user .user-item.user-item__wait uni-text[data-v-24d63304]{color:#dbdbdb;font-size:%?38?%}\r\n\r\n/* 拼团状态 */.main_status[data-v-24d63304]{margin-bottom:%?40?%;font-size:%?35?%;text-align:center}.main_status__fail[data-v-24d63304]{color:#ff495e}.main_status__success[data-v-24d63304]{color:#08b625}.main_status .status-icon[data-v-24d63304]{margin-right:%?15?%}\r\n\r\n/* 倒计时 */.main_tiem .main_timer_color[data-v-24d63304]{color:#fc8434}.main_tiem uni-view[data-v-24d63304]{display:inline-block}.main_tiem uni-view uni-text[data-v-24d63304]{display:inline-block;padding:%?10?% %?5?%;background:#e5e5e5}.main uni-button[data-v-24d63304]{display:block;margin-top:%?40?%;width:%?350?%;line-height:%?90?%;font-size:%?29?%;background:#fbeb4e;border:none;box-shadow:0 3px 12px #fbc293}.main uni-button[data-v-24d63304]:after{content:none;border:none}\r\n\r\n/* 更多拼团 */.content[data-v-24d63304]{margin:auto;margin-top:%?30?%;width:95%;background:#fff;border-radius:%?10?%;box-sizing:border-box;box-shadow:0 5px 12px #e2e2e2}.content_top[data-v-24d63304]{padding:%?35?% %?20?%;display:-webkit-box;display:-webkit-flex;display:flex;padding-bottom:%?30?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.content_main[data-v-24d63304]{padding:%?25?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;border-top:%?1?% solid #eee}.content_main .goods-image[data-v-24d63304]{width:%?240?%;height:%?240?%;border-radius:%?10?%}.content_main .goods-image uni-image[data-v-24d63304]{display:block;width:100%;height:100%}.content_main .goods-detail[data-v-24d63304]{position:relative;width:%?410?%}.content_main .goods-detail .goods-name[data-v-24d63304]{font-size:%?24?%;line-height:2;height:%?96?%}.content_main .goods-detail .goods-sales[data-v-24d63304]{margin:%?20?% 0;font-size:%?24?%;color:#fc8434}.content_main .goods-detail .goods-detail_bottom[data-v-24d63304]{overflow:hidden;height:%?55?%}.content_main .goods-detail .goods-detail_bottom .bottom-right[data-v-24d63304]{height:100%;line-height:1}.content_main .goods-detail .goods-price[data-v-24d63304]{font-size:%?38?%}.content_main .goods-detail .line-price[data-v-24d63304]{margin:0 %?20?% 0 %?10?%;font-size:%?24?%;color:#8e8e8e;text-decoration:line-through}.content_main .goods-detail .btn-navie[data-v-24d63304]{margin:0;padding:0;width:%?130?%;background:-webkit-linear-gradient(left,#fa1e8c,#fc1e56);background:linear-gradient(90deg,#fa1e8c 0,#fc1e56);line-height:%?55?%;height:100%;color:#fff;font-size:%?26?%}\r\n\r\n/* 拼团须知 */.notice[data-v-24d63304]{display:-webkit-box;display:-webkit-flex;display:flex;margin:auto;margin-top:%?30?%;padding:%?35?% %?20?%;width:95%;background:#fff;border-radius:%?10?%;box-sizing:border-box;box-shadow:0 5px 12px #e2e2e2;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.notice .t-brief[data-v-24d63304]{font-size:%?25?%;color:#a6a6a6}\r\n\r\n/* 确认购买弹窗 */.popup__trade[data-v-24d63304]{width:%?750?%;position:relative;padding-bottom:%?92?%;z-index:999}.popup__trade .trade-close[data-v-24d63304]{position:absolute;top:%?20?%;right:%?20?%;width:%?50?%;height:%?50?%}.popup__trade .trade-main[data-v-24d63304]{background:#fff;box-sizing:border-box;padding:%?24?%}.popup__trade .footer-fixed[data-v-24d63304]{position:absolute}.popup__trade .footer-fixed .order-bt[data-v-24d63304]{width:100%;line-height:unset}.popup__trade .trade-main .goods-info[data-v-24d63304]{margin-bottom:%?10?%}.popup__trade .trade-main .goods-info .goods-image[data-v-24d63304]{margin-top:-40px;margin-right:%?20?%}.popup__trade .trade-main .goods-info .goods-image uni-image[data-v-24d63304]{width:90px;height:90px;border:%?5?% solid #fff;box-shadow:0 %?4?% %?10?% hsla(0,0%,86.3%,.79)}.popup__trade .trade-main .goods-info .money-box[data-v-24d63304]{margin:0;box-sizing:border-box}.popup__trade .trade-main .goods-info .goods-stock[data-v-24d63304]{padding-left:%?10?%}.popup__trade .trade-main .buy_number[data-v-24d63304]{margin:%?20?% 0;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.popup__trade .trade-main .buy_number .buyNumber[data-v-24d63304]{color:#888;background:#fff;border-radius:%?10?%;margin-bottom:%?10?%}\r\n\r\n/* 商品规格 */.goods-list-box .tmall-types.mb20[data-v-24d63304]{margin-bottom:%?20?%}.goods-list-box .tmall-types .tipstxt[data-v-24d63304]{font-size:%?26?%;color:#888;margin-bottom:%?10?%}.goods-list-box .tmall-types .cartypelist[data-v-24d63304]{display:inline-block}.goods-list-box .tmall-types .cartypelist .cartypeitem[data-v-24d63304]{font-size:%?26?%;height:%?55?%;line-height:%?55?%;padding:0 %?30?%;margin:0 %?20?% %?20?% 0;border-radius:%?8?%;color:#888;border:%?1?% solid #e6e6e6}.goods-list-box .tmall-types .cartypelist .cartypeitem.cur[data-v-24d63304]{background:#f20c59;border:%?1?% solid #f20c59;color:#fff}.goods-list-box .tmall-types .cartypelist .cartypeitem.cur[data-v-24d63304]:after{position:absolute;bottom:0;right:0;content:"";display:inline-block;width:%?16?%;height:%?16?%}.goods-list-box .tmall-types .cartypelist .cartypeitem.disabled[data-v-24d63304]{color:#dedede;cursor:not-allowed;background:#eee;border:%?2?% dashed #dedede}\r\n\r\n/* 商品价格 */.money-box[data-v-24d63304]{margin:%?10?% 0}.money-box .price[data-v-24d63304]{font-size:%?40?%}.money-box .del[data-v-24d63304]{font-size:%?24?%;color:#999;margin-left:%?6?%;text-decoration:line-through}\r\n\r\n/* 选择数量 */.select-number[data-v-24d63304]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?202?%;height:%?52?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;border:%?2?% solid #e7e7e7;border-radius:%?5?%}.select-number .default[data-v-24d63304]{float:left;width:%?60?%;height:%?52?%;line-height:%?48?%;padding:0;background:#fff;color:#444;font-size:%?40?%;border-radius:unset}.select-number .disabled[data-v-24d63304]{background:#f7f7f7;color:#ddd}.select-number uni-button[data-v-24d63304]:after{content:none;border:none}.select-number uni-input[data-v-24d63304]{float:left;width:%?80?%;height:%?52?%;line-height:%?52?%;border-right:%?1?% solid #eee;border-left:%?1?% solid #eee;text-align:center;font-size:%?28?%;color:#444}body.?%PAGE?%[data-v-24d63304]{background:#f3f3f3}',""]),t.exports=e},"7c2a":function(t,e,i){"use strict";var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("dba2")),n={components:{popManager:o.default},props:{show:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},type:{type:String,default:"center"}},data:function(){return{}},methods:{handleMaskClick:function(){this.$emit("click-overlay",{}),this.closeOnClickOverlay&&this.$emit("close",{})}}};e.default=n},"856e":function(t,e,i){var a=i("726a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("59155385",a,!0,{sourceMap:!1,shadowMode:!1})},8883:function(t,e,i){"use strict";i.r(e);var a=i("7c2a"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},c330:function(t,e){var i=getApp().globalData;t.exports={getSetting:function(t){i._get("sharing.setting/getAll",{},(function(e){t(e.data.setting)}))}}},d255:function(t,e,i){"use strict";i.r(e);var a=i("da80"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},da80:function(t,e,i){"use strict";var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("53ca"));i("a15b"),i("7db0"),i("4160"),i("159b"),i("e25e"),i("b64b"),i("1276"),i("ac1f");var n=i("787c"),s=a(i("c330")),d=a(i("7740")),r=a(i("ca00")),u=a(i("bf46")),c=a(i("26e2")),l=a(i("da18")),v=[],g=getApp().globalData,p={components:{zanDialog:u.default,zanPopup:c.default,shortcut:l.default},props:{},data:function(){return{detail:{},goodsList:[],setting:{},is_join:!1,is_creator:!1,goods_price:0,line_price:0,stock_num:0,goods_num:1,goods_sku_id:0,goodsMultiSpec:{},countDownList:[],actEndTimeList:[],sharing_price:"",skuCoverImage:"",showBottomPopup:!1,title:null,desc:null,imgUrl:null}},onLoad:function(t){var e=this;e.getActiveDetail(t.active_id),e.getSetting(),(0,n.getJSSDK)(g,window.location.href)},onShare:function(){},onShareAppMessage:function(){var t=this,e=g.getShareUrlParams({active_id:t.detail.active_id});return{title:t.goods.goods_name,path:"/pages/sharing/active/index?"+e}},methods:{_onRequestSubscribeMessage:function(t){var e=this,i=e.setting.order_submsg.active_status;i.length>0&&uni.requestSubscribeMessage({tmplIds:[i],success:function(){},fail:function(){},complete:function(){t&&t()}})},getActiveDetail:function(t){var e=this;g._get("sharing.active/detail",{active_id:t},(function(t){e.createPageData(t.data)}))},createPageData:function(t){var e=this,i=t.goods;t["is_join"]=e.checkUserIsJoin(t.detail.users),console.log(t["is_join"]),t["is_creator"]=!(t.detail.creator_id!==g.getUserId()),t["actEndTimeList"]=[t.detail.end_time.text],t.goods_sku_id=i.goods_sku.spec_sku_id,t.sharing_price=i.goods_sku.sharing_price,t.goods_price=i.goods_sku.goods_price,t.line_price=i.goods_sku.line_price,t.stock_num=i.goods_sku.stock_num,t.skuCoverImage=i.goods_image,20===i.spec_type&&i.goods_sku["image"]&&(t.skuCoverImage=i.goods_sku["image"]["file_path"]),20===i.spec_type&&(t.goodsMultiSpec=e._initGoodsDetailDataFun(i.goods_multi_spec)),e.setData(t),e.onCountDown();var a=g.getShareUrlParams({active_id:e.detail.active_id});(0,n.wxShare)({title:e.title||e.goods.goods_name,desc:e.desc||e.goods.goods_name,link:g.domain+"#/pages/sharing/active/index?"+a,imgUrl:e.imgUrl||"",callback:function(){}})},_initGoodsDetailDataFun:function(t){for(var e in v=[],t.spec_attr)for(var i in t.spec_attr[e].spec_items)i<1&&(t.spec_attr[e].spec_items[0].checked=!0,v[e]=t.spec_attr[e].spec_items[0].item_id);return t},onSwitchSpec:function(t){var e=this,i=t.currentTarget.dataset.attrIdx,a=t.currentTarget.dataset.itemIdx,o=e.goodsMultiSpec;for(var n in g.saveFormId(t.detail.formId),o.spec_attr)for(var s in o.spec_attr[n].spec_items)i===n&&(o.spec_attr[n].spec_items[s].checked=!1,a===s&&(o.spec_attr[n].spec_items[a].checked=!0,v[n]=o.spec_attr[n].spec_items[a].item_id));e.setData({goodsMultiSpec:o}),e._updateSpecGoodsFun()},_updateSpecGoodsFun:function(){var t=this,e=v.join("_"),i=t.goodsMultiSpec.spec_list,a=i.find((function(t){return t.spec_sku_id===e}));"object"===(0,o.default)(a)&&t.setData({goods_sku_id:a.spec_sku_id,goods_price:a.form.goods_price,sharing_price:a.form.sharing_price,line_price:a.form.line_price,stock_num:a.form.stock_num,skuCoverImage:a.form.image_id>0?a.form.image_path:t.goods.goods_image})},checkUserIsJoin:function(t){var e=g.getUserId();if(!e)return!1;var i=!1;return t.forEach((function(t){e===t.user_id&&(i=!0)})),i},getSetting:function(){var t=this;s.default.getSetting((function(e){t.setData({setting:e})}))},timeFormat:function(t){return t<10?"0"+t:t},onCountDown:function(){var t=this,e=(new Date).getTime(),i=this.actEndTimeList,a=[];i.forEach((function(i){var o=new Date(r.default.format_date(i)).getTime(),n=null;if(o-e>0){var s=(o-e)/1e3,d=parseInt(s/86400,10),u=parseInt(s%86400/3600,10),c=parseInt(s%86400%3600/60,10),l=parseInt(s%86400%3600%60,10);n={day:d,hou:t.timeFormat(u),min:t.timeFormat(c),sec:t.timeFormat(l)}}else n={day:"00",hou:"00",min:"00",sec:"00"};a.push(n)})),this.setData({countDownList:a}),setTimeout(this.onCountDown,1e3)},onTargetRules:function(){uni.navigateTo({url:"../rules/index"})},onToggleRules:function(){var t=this;(0,d.default)({title:"拼团规则",message:t.setting.basic.rule_detail,selector:"#zan-base-dialog",buttons:[{text:"关闭",color:"red",type:"cash"}]})},onTargetGoods:function(t){var e=t.currentTarget.dataset.id>0?t.currentTarget.dataset.id:this.detail.goods_id;uni.navigateTo({url:"../goods/index?goods_id="+e})},onIncGoodsNumber:function(t){var e=this;g.saveFormId(t.detail.formId),e.setData({goods_num:++e.goods_num})},onDecGoodsNumber:function(t){var e=this;g.saveFormId(t.detail.formId),e.goods_num>1&&e.setData({goods_num:--e.goods_num})},onInputGoodsNum:function(t){var e=t.detail.value;r.default.isPositiveInteger(e)||""===e||(e=1),this.setData({goods_num:e})},onCheckout:function(){var t=this;if(!t._onVerifyFun())return!1;var e=function(){uni.navigateTo({url:"../checkout/index?"+r.default.urlEncode({order_type:20,active_id:t.detail.active_id,goods_id:t.goods.goods_id,goods_num:t.goods_num,goods_sku_id:t.goods_sku_id})})};e()},_onVerifyFun:function(){var t=this;return""===t.goods_num?(g.showError("请输入购买数量"),!1):(t.setData({goods_num:parseInt(t.goods_num,10)}),!(t.goods_num<=0)||(g.showError("购买数量不能为0"),!1))},onPreviewSkuImage:function(){uni.previewImage({current:this.data.skuCoverImage,urls:[this.data.skuCoverImage]})},onToggleTrade:function(){this.setData({showBottomPopup:!this.showBottomPopup})},onTriggerOrder:function(){var t=this;t.onToggleTrade()},onTargetIndex:function(){uni.navigateTo({url:"../index/index"})},setData:function(t){var e,i,a=this,o=[];Object.keys(t).forEach((function(n){o=n.split("."),e=t[n],i=a.$data,o.forEach((function(t,n){console.log(t),n+1===o.length?a.$set(i,t,e):i[t]||a.$set(i,t,{}),i=i[t]}))}))}}};e.default=p}}]);