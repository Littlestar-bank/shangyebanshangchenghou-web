(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sharing-index-index"],{"40a0":function(t,i,a){var e=a("f517");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=a("4f06").default;o("f36e6228",e,!0,{sourceMap:!1,shadowMode:!1})},"53c0":function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("99af"),a("4160"),a("159b"),a("b64b"),a("1276"),a("ac1f");var e=a("787c"),o=getApp().globalData,n={components:{},props:{},data:function(){return{categoryList:[],goodsList:{data:[]},category_id:0,scrollHeight:null,option:{},list:{},no_more:!1,isLoading:!0,page:1}},onLoad:function(){var t=this;t.setListHeight(),this.getIndexData(),(0,e.getJSSDK)(o,window.location.href)},onShareAppMessage:function(){return{title:"拼团首页",path:"/pages/sharing/index/index?"+o.getShareUrlParams()}},methods:{getIndexData:function(){var t=this;o._get("sharing.index/index",{},(function(i){t.setData({categoryList:i.data.categoryList}),(0,e.wxShare)({title:i.data.title||"拼团首页",desc:i.data.desc||"拼团首页",link:o.domain+"#/pages/sharing/index/index?"+o.getShareUrlParams(),imgUrl:i.data.imgUrl||"",callback:function(){}})})),t.getGoodsList()},onSwitchTab:function(t){var i=this;i.setData({category_id:t.currentTarget.dataset.id,goodsList:{data:[]},page:1,no_more:!1,isLoading:!0}),i.getGoodsList()},getGoodsList:function(t,i){var a=this;o._get("sharing.goods/lists",{page:i||1,category_id:a.category_id},(function(i){console.log(i);var e=i.data.list,o=a.goodsList;!0===t?a.setData({"goodsList.data":o.data.concat(e.data),isLoading:!1}):a.setData({goodsList:e,isLoading:!1})}))},onTargetGoods:function(t){uni.navigateTo({url:"../goods/index?goods_id="+t.currentTarget.dataset.id})},bindDownLoad:function(){if(this.page>=this.goodsList.last_page)return this.setData({no_more:!0}),!1;this.getGoodsList(!0,++this.page)},setListHeight:function(){var t=uni.getSystemInfoSync(),i=t.windowWidth/750,a=Math.floor(98*i),e=t.windowHeight-a;console.log(t.windowHeight),this.setData({scrollHeight:e})},setData:function(t){var i,a,e=this,o=[];Object.keys(t).forEach((function(n){o=n.split("."),i=t[n],a=e.$data,o.forEach((function(t,n){console.log(t),n+1===o.length?e.$set(a,t,i):a[t]||e.$set(a,t,{}),a=a[t]}))}))}}};i.default=n},"82f8f":function(t,i,a){"use strict";a.r(i);var e=a("53c0"),o=a.n(e);for(var n in e)["default"].indexOf(n)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(n);i["default"]=o.a},"9a4f":function(t,i,a){"use strict";a.r(i);var e=a("dbd9"),o=a("82f8f");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(i,t,(function(){return o[t]}))}(n);a("bb77");var s,c=a("f0c5"),d=Object(c["a"])(o["default"],e["b"],e["c"],!1,null,"4c8b2c8c",null,!1,e["a"],s);i["default"]=d.exports},bb77:function(t,i,a){"use strict";var e=a("40a0"),o=a.n(e);o.a},dbd9:function(t,i,a){"use strict";var e;a.d(i,"b",(function(){return o})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){return e}));var o=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("v-uni-view",{staticClass:"header"},[a("v-uni-scroll-view",{attrs:{"scroll-x":!0}},[a("v-uni-view",{class:"cs "+(0==t.category_id?"active":""),attrs:{"data-id":"0"},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onSwitchTab.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("首页")])],1),t._l(t.categoryList,(function(i,e){return a("v-uni-view",{key:e,class:"cs "+(i.category_id==t.category_id?"active":""),attrs:{"data-id":i.category_id},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onSwitchTab.apply(void 0,arguments)}}},[a("v-uni-text",[t._v(t._s(i.name))])],1)}))],2)],1),a("v-uni-view",{staticClass:"cont"},[a("v-uni-scroll-view",{style:"height: "+t.scrollHeight+"px;",attrs:{"scroll-y":!0},on:{scrolltolower:function(i){arguments[0]=i=t.$handleEvent(i),t.bindDownLoad.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"main"},[t._l(t.goodsList.data,(function(i,e){return a("v-uni-view",{key:e,staticClass:"main_goods",attrs:{"data-id":i.goods_id},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onTargetGoods.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"main_goods_left"},[a("v-uni-image",{attrs:{src:i.goods_image}})],1),a("v-uni-view",{staticClass:"main_goods_right"},[a("v-uni-view",{staticClass:"twolist-hidden"},[a("v-uni-text",{staticClass:"main_goods_title"},[t._v(t._s(i.goods_name))])],1),a("v-uni-view",{staticClass:"main_goods_desc"},[a("v-uni-view",{},[a("v-uni-text",{staticClass:"desc_introduction onelist-hidden"},[t._v(t._s(i.selling_point))])],1),a("v-uni-text",{staticClass:"desc_situation"},[a("v-uni-text",{staticClass:"iconfont icon-pintuan_huaban"}),a("v-uni-text",{staticClass:"people"},[t._v(t._s(i.people)+"人团")]),a("v-uni-text",{staticClass:"cl-9"},[t._v("已有"+t._s(i.goods_sales)+"人进行拼团")])],1),a("v-uni-text",{staticClass:"desc_footer"},[a("v-uni-text",{staticClass:"price_x"},[t._v("¥"+t._s(i.goods_sku.sharing_price))]),a("v-uni-text",{staticClass:"price_y cl-9"},[t._v("¥"+t._s(i.goods_sku.line_price))])],1)],1),a("v-uni-button",{staticClass:"settlement"},[t._v("去拼团")])],1)],1)})),t.no_more?a("v-uni-view",{staticClass:"no-more f-30"},[t._v("亲, 没有更多了")]):t._e(),t.isLoading||t.goodsList.data.length?t._e():a("v-uni-view",[a("v-uni-view",{staticClass:"yoshop-notcont"},[a("v-uni-text",{staticClass:"iconfont icon-wushuju"}),a("v-uni-text",{staticClass:"cont"},[t._v("亲，暂无拼团商品哦")])],1)],1)],2)],1)],1)],1)},n=[]},f517:function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,".cont[data-v-4c8b2c8c]{margin:0;padding:0;margin-top:%?98?%;line-height:1}.main[data-v-4c8b2c8c]{box-sizing:border-box;padding:0 %?20?%}.main_goods[data-v-4c8b2c8c]{margin:%?20?% auto;padding:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;height:%?320?%;background:#fff;box-sizing:border-box}.main_goods_left[data-v-4c8b2c8c]{display:-webkit-box;display:-webkit-flex;display:flex;width:40%;height:100%;background:#fff;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.main_goods_left uni-image[data-v-4c8b2c8c]{display:block;width:%?240?%;height:%?240?%}.main_goods_right[data-v-4c8b2c8c]{position:relative;width:60%;height:100%}.main_goods_title[data-v-4c8b2c8c]{display:block;margin-top:%?20?%;width:100%;font-size:%?28?%;line-height:1.3;color:#333}.main_goods_desc[data-v-4c8b2c8c]{position:absolute;left:%?0?%;top:%?90?%}.main_goods_desc uni-text[data-v-4c8b2c8c]{display:inline-block}.desc_introduction[data-v-4c8b2c8c]{margin-top:%?10?%;line-height:1.4;font-size:%?24?%;color:#ff495e;width:%?400?%}.desc_situation[data-v-4c8b2c8c]{font-size:%?24?%;line-height:1.3;color:#f03c3c;margin-top:%?10?%}.people[data-v-4c8b2c8c]{margin:0 %?13?%}.cl-9[data-v-4c8b2c8c]{color:#999}.desc_footer[data-v-4c8b2c8c]{margin-top:%?15?%;font-size:%?24?%}.desc_footer .price_x[data-v-4c8b2c8c]{margin-right:%?25?%;color:#f03c3c;font-size:%?28?%}.desc_footer .price_y[data-v-4c8b2c8c]{text-decoration:line-through}.settlement[data-v-4c8b2c8c]{position:absolute;right:%?0?%;bottom:%?0?%;line-height:%?55?%;text-align:center;font-size:%?28?%;border-radius:%?40?%;color:#fff;background:-webkit-linear-gradient(left,#eb356b,#f03c3c);background:linear-gradient(90deg,#eb356b 0,#f03c3c);box-shadow:0 2px 10px -2px #eb356b;border:none}.header[data-v-4c8b2c8c]{display:-webkit-box;display:-webkit-flex;display:flex;position:fixed;top:var(--window-top);width:100%;height:%?88?%;color:#333;font-size:%?28?%;background:#fff;border-bottom:%?1?% solid #e4e4e4;z-index:100;overflow:hidden;white-space:nowrap}.header uni-scroll-view[data-v-4c8b2c8c]{height:100%}.cs[data-v-4c8b2c8c]{display:inline-block;padding:0 %?15?%;text-align:center;min-width:20%;height:%?87?%;line-height:%?88?%;box-sizing:border-box}.cs uni-text[data-v-4c8b2c8c]{display:block;height:100%}.active uni-text[data-v-4c8b2c8c]{color:#fd4a5f;border-bottom:%?2?% solid #fd4a5f}",""]),t.exports=i}}]);