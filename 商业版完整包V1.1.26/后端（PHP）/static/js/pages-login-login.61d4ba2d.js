(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"04b8":function(t,n,i){i("498a"),i("466d"),i("ac1f"),t.exports={isEmpty:function(t){return""==t.trim()},isPhone:function(t){var n=/^((0\d{2,3}-\d{7,8})|(1[3456789]\d{9}))$/;return n.test(t)},isEmail:function(t){if(null==t||""==t)return!1;var n=t.match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/);return null!=n},isNumber:function(t){return!(!isDouble(t)&&!isInteger(t))},isPositiveInteger:function(t){return/(^[0-9]\d*$)/.test(t)},isInteger:function(t){if(null==t||""==t)return!1;var n=t.match(/^[-\+]?\d+$/);return null!=n},isDouble:function(t){if(null==t||""==t)return!1;var n=t.match(/^[-\+]?\d+(\.\d+)?$/);return null!=n}}},3285:function(t,n,i){"use strict";i.r(n);var e=i("6263"),o=i.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return e[t]}))}(a);n["default"]=o.a},"476e":function(t,n,i){"use strict";var e;i.d(n,"b",(function(){return o})),i.d(n,"c",(function(){return a})),i.d(n,"a",(function(){return e}));var o=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"login"},[i("v-uni-view",{staticClass:"login-header"},[i("v-uni-view",{staticClass:"login-logo"},[i("v-uni-image",{attrs:{src:"/static/logo.png"}})],1)],1),i("v-uni-view",{staticClass:"login-form"},[i("v-uni-view",{staticClass:"login-item"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入手机号"},model:{value:t.form.mobile,callback:function(n){t.$set(t.form,"mobile",n)},expression:"form.mobile"}})],1),i("v-uni-view",{staticClass:"login-item"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入验证码"},model:{value:t.form.captcha,callback:function(n){t.$set(t.form,"captcha",n)},expression:"form.captcha"}}),t.timeout<60?i("v-uni-button",[t._v("等待"+t._s(t.timeout)+"秒")]):i("v-uni-button",{attrs:{loading:t.loading,disabled:t.loading},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleSendCode.apply(void 0,arguments)}}},[t._v("发送验证码")])],1)],1),i("v-uni-view",{staticClass:"submit-btn"},[i("v-uni-button",{attrs:{loading:t.loading,disabled:t.loading},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleLogin.apply(void 0,arguments)}}},[t._v("登录")])],1)],1)],1)},a=[]},"523f9":function(t,n,i){var e=i("24fb");n=e(!1),n.push([t.i,"uni-page-body[data-v-7c217bcb]{background:#fff;font-size:%?32?%}.login-header[data-v-7c217bcb]{position:relative;height:%?394?%;background:url(/static/login-header.png) no-repeat;background-size:contain}.login-logo[data-v-7c217bcb]{position:absolute;top:%?300?%;left:%?310?%;width:%?130?%;height:%?130?%;background:#fff;box-shadow:0 0 16px 0 rgba(28,43,29,.33);border-radius:%?10?%}.login-logo uni-image[data-v-7c217bcb]{width:%?130?%;height:%?130?%}.login-form[data-v-7c217bcb]{padding:%?160?% %?100?% %?60?%}.login-item[data-v-7c217bcb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?90?%;border-bottom:%?2?% solid #b3b3b3}.login-item + .login-item[data-v-7c217bcb]{margin-top:%?60?%}.login-item uni-input[data-v-7c217bcb]{-webkit-box-flex:1;-webkit-flex:1 1 auto;flex:1 1 auto}.login-item uni-button[data-v-7c217bcb]{width:%?160?%;height:%?50?%;border:%?2?% solid #ff5454;border-radius:%?25?%;font-size:%?24?%;color:#ff5454;line-height:%?50?%;background:#fff}.submit-btn uni-button[data-v-7c217bcb]{width:%?500?%;height:%?88?%;background:-webkit-linear-gradient(6deg,#ff8366,#ff5454 98%);background:linear-gradient(84deg,#ff8366,#ff5454 98%);border-radius:%?44?%;font-size:%?36?%;color:#fff;line-height:%?88?%}body.?%PAGE?%[data-v-7c217bcb]{background:#fff}",""]),t.exports=n},6263:function(t,n,i){"use strict";var e=i("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i("4160"),i("159b"),i("b64b"),i("1276"),i("ac1f");var o=e(i("04b8")),a=getApp().globalData,r={components:{},props:{},data:function(){return{options:{},loading:!1,form:{mobile:"",captcha:""},timeout:60,timer:null}},onLoad:function(t){this.setData({options:t})},methods:{handleSendCode:function(){var t=this;""!==this.form.mobile?o.default.isPhone(this.form.mobile)?(this.loading=!0,a._post_form("user/send",{mobile:this.form.mobile},(function(n){if(console.log(n),-10===n.code)return a.showError(n.msg),!1;1===n.code&&(uni.showToast({icon:"none",title:"验证码发送成功",duration:2e3}),t.timer=setInterval((function(){t.timeout-=1,t.timeout<=0&&(t.timeout=60,clearInterval(t.timer))}),1e3))}),null,(function(){t.loading=!1}))):uni.showToast({icon:"none",title:"手机号码格式错误",duration:2e3}):uni.showToast({icon:"none",title:"请输入手机号码",duration:2e3})},handleLogin:function(){var t=this;""!==this.form.mobile?""!==this.form.captcha?(this.loading=!0,a._post_form("user/mobile_login",this.form,(function(n){if(-10===n.code)return a.showError(n.msg),!1;1===n.code&&(uni.setStorageSync("token",n.data.token),uni.setStorageSync("user_id",n.data.user.user_id),t.navigateBack())}),null,(function(){t.loading=!1}))):uni.showToast({icon:"none",title:"请输入验证码",duration:2e3}):uni.showToast({icon:"none",title:"请输入手机号码",duration:2e3})},navigateBack:function(){uni.navigateBack()},handleGoBack:function(){uni.switchTab({url:"/pages/index/index"})},setData:function(t){var n,i,e=this,o=[];Object.keys(t).forEach((function(a){o=a.split("."),n=t[a],i=e.$data,o.forEach((function(t,a){console.log(t),a+1===o.length?e.$set(i,t,n):i[t]||e.$set(i,t,{}),i=i[t]}))}))}}};n.default=r},"8dad":function(t,n,i){var e=i("523f9");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=i("4f06").default;o("7154e301",e,!0,{sourceMap:!1,shadowMode:!1})},a86a:function(t,n,i){"use strict";i.r(n);var e=i("476e"),o=i("3285");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return o[t]}))}(a);i("dd3c");var r,u=i("f0c5"),c=Object(u["a"])(o["default"],e["b"],e["c"],!1,null,"7c217bcb",null,!1,e["a"],r);n["default"]=c.exports},dd3c:function(t,n,i){"use strict";var e=i("8dad"),o=i.n(e);o.a}}]);